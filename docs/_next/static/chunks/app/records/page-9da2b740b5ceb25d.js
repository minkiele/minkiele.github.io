(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{3805:function(e,t,n){Promise.resolve().then(n.bind(n,3922)),Promise.resolve().then(n.bind(n,4288))},537:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7653),s=n(1301);let i=n.n(s)().className;var l=n(288),c=n.n(l);function a(e){let{children:t}=e;return(0,r.createElement)("span",{className:"".concat(i," ").concat(c().emoji)},t)}},3922:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(7573),s=n(7653);let i=Symbol("IDLE"),l=Symbol("PLAY"),c=Symbol("GAMEOVER"),a=Symbol("WINNER");var d=n(1569),o=n.n(d),u=n(6072),f=n.n(u),p=n(537);function m(e){let{source:t}=e,{status:n,left:d,cards:u,matched:m,flip:h,isFlipped:_,reset:g}=function(e){let[{cards:t,matched:n,flipped:r,status:d,left:o},u]=(0,s.useReducer)((e,t)=>{switch(t.type){case"reset":return{...e,cards:t.cards,flipped:[],left:3,matched:[],status:l};case"flip":if(e.status===l){if(0===e.flipped.length)return{...e,flipped:[t.index]};if(e.cards[e.flipped[0]]===e.cards[t.index]){let t={...e,flipped:[],matched:[...e.matched,e.cards[e.flipped[0]].id]};if((e.matched.length+1)*2===e.cards.length)return{...t,status:a};return t}if(e.left>0)return{...e,flipped:[...e.flipped,t.index]};return{...e,matched:e.cards.reduce((e,t)=>e.includes(t.id)?e:[...e,t.id],[]),flipped:[],left:0,status:c}}return e;case"cover":return{...e,flipped:[],left:e.left-1}}},{cards:[],matched:[],flipped:[],status:i,left:0}),f=(0,s.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;u({type:"reset",cards:function(e,t){let n=[],r=Array.from({length:e}).fill(void 0);for(;n.length<e/2;){let e=t[Math.floor(Math.random()*t.length)];n.some(t=>t.id===e.id)||n.push(e)}for(let e=0;e<n.length;e+=1){let t=0;for(;t<2;){let s=Math.floor(Math.random()*r.length);null==r[s]&&(r[s]=n[e],t+=1)}}return r}(t,e)})},[e]);(0,s.useEffect)(()=>{f()},[f]),(0,s.useEffect)(()=>{if(r.length>1){let e=setTimeout(()=>{u({type:"cover"})},2e3);return()=>{clearTimeout(e)}}},[r]);let p=(0,s.useCallback)(e=>{r.length<2&&u({type:"flip",index:e})},[r]),m=(0,s.useCallback)(e=>r.includes(e)||n.includes(t[e].id),[r,t,n]);return(0,s.useMemo)(()=>({cards:t,matched:n,flipped:r,status:d,left:o,reset:f,flip:p,isFlipped:m}),[t,n,r,d,o,f,p,m])}(t);return(0,r.jsxs)("div",{children:[(0,r.jsx)("ol",{className:o().list,children:u.map((e,t)=>{let n=_(t),s=m.includes(e.id);return(0,r.jsxs)("li",{className:o().list_item,children:[(0,r.jsx)("span",{className:o().imageWrapper,children:n?(0,r.jsx)(f(),{src:e.thumb,alt:"Cover image",fill:!0,className:o().image,priority:t<4}):(0,r.jsx)("span",{className:o().cover,onClick:()=>{h(t)},children:(0,r.jsx)(p.Z,{children:"\uD83D\uDE05"})})}),s&&(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:e.artist}),": ",e.title," (",e.medium,")"]})]},"".concat(e.id,"-").concat(t))})}),n===l&&(0,r.jsxs)("p",{children:["You have ",d," tries left."]}),n===c&&(0,r.jsx)("p",{children:"Sorry, game over."}),n===a&&(0,r.jsx)("p",{children:"You won!"}),(0,r.jsx)("div",{children:(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:"Commands"}),(0,r.jsx)("button",{type:"button",onClick:()=>{g()},children:"New game"})]})})]})}},4288:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7653),s=n(5505),i=n(7953);function l(e){let t=Object.assign({p:"p"},(0,i.ah)(),e.components);return(0,s.jsx)(t.p,{children:"A little Memory game where the cards are my records collection."})}var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,i.ah)(),e.components);return t?(0,s.jsx)(t,Object.assign({},e,{children:(0,s.jsx)(l,e)})):l(e)};function a(){return(0,r.createElement)(c)}},288:function(e){e.exports={emoji:"Emoji_emoji__KdCI2"}},1569:function(e){e.exports={list:"Records_list__G7bAn",list_item:"Records_list_item__WfYnG",imageWrapper:"Records_imageWrapper__v6e08",image:"Records_image__xn4a5",cover:"Records_cover__baXEy"}}},function(e){e.O(0,[663,293,16,744],function(){return e(e.s=3805)}),_N_E=e.O()}]);