(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3892],{648:(t,e,n)=>{Promise.resolve().then(n.bind(n,4639))},1478:(t,e)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&t.push(s)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var a in n)i.call(n,a)&&n[a]&&t.push(a)}}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=(function(){return r}).apply(e,[]))||(t.exports=n)}()},4571:(t,e,n)=>{"use strict";n.d(e,{RP:()=>o});var i=n(7620);let r=i.createContext({});function o(t){let e=i.useContext(r);return i.useMemo(()=>"function"==typeof t?t(e):{...e,...t},[e,t])}},4639:(t,e,n)=>{"use strict";n.d(e,{default:()=>S});var i,r,o=n(4568),s=n(1478),a=n.n(s),c=n(7620);!function(t){var e,n;(e=t.Orientation||(t.Orientation={}))[e.N=0]="N",e[e.E=1]="E",e[e.S=2]="S",e[e.W=3]="W",(n=t.Direction||(t.Direction={}))[n.L=0]="L",n[n.R=1]="R",t.getOppositeOrientation=function(t){return(t+2)%4},t.getNextOrientation=function(t,e){switch(t){case 0:return(e+3)%4;case 1:return(e+1)%4;default:throw Error("Unrecognized direction")}}}(i||(i={}));class l{setContent(t,e,n){return this.ensureMatrixSize(e+1,n+1),this.matrix[e][n]=t,this}getContent(t,e){if(t>=0&&t<this.rows&&e>=0&&e<this.columns)return this.matrix[t][e];throw Error("ArrayIndexOutOfBoundException")}ensureMatrixSize(t,e){for(let t=this.columns;t<e;t+=1)this.addColumn(t);for(let e=this.rows;e<t;e+=1)this.addRow(e)}normalizeRowIndex(t){return Math.max(0,Math.min(t,this.rows))}normalizeColumnIndex(t){return Math.max(0,Math.min(t,this.columns))}addRow(t){let e=this.normalizeRowIndex(t),n=[];for(let t=0;t<this.columns;t+=1)n.push(null);return this.matrix.splice(e,0,n),this.rows+=1,this}addColumn(t){let e=this.normalizeColumnIndex(t);for(let t=0;t<this.rows;t+=1)this.matrix[t].splice(e,0,null);return this.columns+=1,this}getRows(){return this.rows}getColumns(){return this.columns}getSize(){return this.rows*this.columns}constructor(){this.matrix=[],this.rows=0,this.columns=0}}class h extends l{move(t){switch(t){case i.Orientation.N:0===this.row?this.addRow(0):this.row-=1;break;case i.Orientation.S:this.row+=1,this.row===this.rows&&this.addRow(this.row);break;case i.Orientation.W:0===this.column?this.addColumn(0):this.column-=1;break;case i.Orientation.E:this.column+=1,this.column===this.columns&&this.addColumn(this.column);break;default:throw Error("Unknown direction")}return this.orientation=t,this}constructor(t){super(),this.orientation=t,this.row=0,this.column=0}}!function(t){var e;(e=t.Char||(t.Char={})).EMPTY=" ",e.EW="─",e.NS="│",e.ES="┌",e.SW="┐",e.NE="└",e.NW="┘",e.NES="├",e.NSW="┤",e.ESW="┬",e.NEW="┴",e.NESW="┼",e.W="╴",e.N="╵",e.E="╶",e.S="╷";class n{get W(){return 0!==this.$_W}set W(t){this.$_W=8*!!t}get N(){return 0!==this.$_N}set N(t){this.$_N=+!!t}get S(){return 0!==this.$_S}set S(t){this.$_S=4*!!t}get E(){return 0!==this.$_E}set E(t){this.$_E=2*!!t}unite(t){return new n(this.N||t.N,this.E||t.E,this.S||t.S,this.W||t.W)}intersecate(t){return new n(this.N&&t.N,this.E&&t.E,this.S&&t.S,this.W&&t.W)}negate(){return new n(!this.N,!this.E,!this.S,!this.W)}toString(){switch(this.$_W|this.$_N|this.$_S|this.$_E){case 0:return" ";case 1:return"╵";case 2:return"╶";case 3:return"└";case 4:return"╷";case 5:return"│";case 6:return"┌";case 7:return"├";case 8:return"╴";case 9:return"┘";case 10:return"─";case 11:return"┴";case 12:return"┐";case 13:return"┤";case 14:return"┬";case 15:return"┼";default:throw Error("Unrecognized symbol")}}constructor(t=!1,e=!1,n=!1,i=!1){this.$_N=0,this.$_E=0,this.$_S=0,this.$_W=0,this.W=i,this.N=t,this.S=n,this.E=e}}t.Line=n,t.getLine=function(t){let e;switch(t){case" ":e=0;break;case"╵":e=1;break;case"╶":e=2;break;case"└":e=3;break;case"╷":e=4;break;case"│":e=5;break;case"┌":e=6;break;case"├":e=7;break;case"╴":e=8;break;case"┘":e=9;break;case"─":e=10;break;case"┴":e=11;break;case"┐":e=12;break;case"┤":e=13;break;case"┬":e=14;break;case"┼":e=15;break;default:throw Error("Unrecognized char")}return new n(!!(1&e),!!(2&e),!!(4&e),!!(8&e))}}(r||(r={}));class u extends h{step(t){let e,n=i.getOppositeOrientation(this.orientation),o=new r.Line(t===i.Orientation.N||n===i.Orientation.N,t===i.Orientation.E||n===i.Orientation.E,t===i.Orientation.S||n===i.Orientation.S,t===i.Orientation.W||n===i.Orientation.W);try{e=this.getContent(this.row,this.column).unite(o)}catch(t){e=o}return this.setContent(e,this.row,this.column).move(t)}turn(t){let e=this.orientation,n=i.getNextOrientation(t,e);return this.step(n)}toString(){return this.matrix.map(t=>t.map(t=>null!==t?t:" ").join("")).join("\n")}}let d=Symbol("L"),g=Symbol("R");function m(t){switch(t){case d:return g;case g:return d;default:throw Error("Unknown direction")}}var f=n(6295),p=n.n(f),w=n(4571);function v(t){let e=Object.assign({p:"p",a:"a"},(0,w.RP)(),t.components);return(0,o.jsxs)(e.p,{children:["The ",(0,o.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Dragon_curve",children:"Dragon fractal"}),"\nis a fractal obtained by (ideally) folding a piece of\npaper in half in the same direction for a number of times. The figure is\nobtained by unfolding every fold at 90\xb0. I was obsessed with this\npicture since I saw it at the beginning of the chapters in Jurassic\nPark. Twenty years later I searched for it in the Internet and found the\nexplanation."]})}let x=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,w.RP)(),t.components);return e?(0,o.jsx)(e,Object.assign({},t,{children:(0,o.jsx)(v,t)})):v(t)};class b{static getDirections(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L";return t<=1?[]:b.getDirections(t-1,e).concat(e).concat(b.getDirections(t-1,e).reverse().map(t=>"L"===t?"R":"L"))}static getNextOrientation(t,e){return b.orientations[(b.orientations.length+b.orientations.indexOf(t)+("R"===e?1:-1))%b.orientations.length]}static mergeCoords(t,e){var n,i;let{d:r,o,f:s,t:a}=t,c=null!=(n=e[r])?n:new Map,l=null!=(i=c[o])?i:[],h=l.map((t,e)=>({...t,i:e})).filter(t=>{let{f:e,t:n}=t;return e===a||n===s});switch(h.length){case 0:l.push({f:s,t:a}),l.sort((t,e)=>{let{f:n,t:i}=t,{f:r,t:o}=e;return n===r?i-o:n-r});break;case 1:h[0].f===a?l[h[0].i].f=s:l[h[0].i].t=a;break;default:l[h[0].i].t=l[h[1].i].t,l.splice(h[1].i,1)}return c[o]=l,e[r]=c,e}turn(t){this.orientation=b.getNextOrientation(this.orientation,t),this.moves.push(this.orientation)}run(t){for(let e of t)this.turn(e)}isTerminalSegment(t){return 0===t||t===this.moves.length-1}plot(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.DEFAULT_LENGTH,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.DEFAULT_ARC,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.DEFAULT_SPLIT,i="",[r,o,s,a]=[0,0,0,0],[c,l]=[0,0],h={H:{},V:{}};for(let u=0;u<this.moves.length;u+=1){let d=this.moves[u],g=t-e*(this.isTerminalSegment(u)?1:2);switch(d){case"N":if(n&&0===e)b.mergeCoords({d:"V",o:c,f:l-t,t:l},h);else{if(u>0&&e>0){let t="E"===this.moves[u-1];i+="a".concat(e," ").concat(e," 0 0 ").concat(Number(!t)," ").concat((t?1:-1)*e," ").concat(-e)}i+="v".concat(-g)}(l-=t)>r&&(r=l),l<s&&(s=l);break;case"S":if(n&&0===e)b.mergeCoords({d:"V",o:c,f:l,t:l+t},h);else{if(u>0&&e>0){let t="W"===this.moves[u-1];i+="a".concat(e," ").concat(e," 0 0 ").concat(Number(!t)," ").concat((t?-1:1)*e," ").concat(e)}i+="v".concat(g)}(l+=t)>r&&(r=l),l<s&&(s=l);break;case"E":if(n&&0===e)b.mergeCoords({d:"H",o:l,f:c,t:c+t},h);else{if(u>0&&e>0){let t="S"===this.moves[u-1];i+="a".concat(e," ").concat(e," 0 0 ").concat(Number(!t)," ").concat(e," ").concat((t?1:-1)*e)}i+="h".concat(g)}(c+=t)>o&&(o=c),c<a&&(a=c);break;case"W":if(n&&0===e)b.mergeCoords({d:"H",o:l,f:c-t,t:c},h);else{if(u>0&&e>0){let t="N"===this.moves[u-1];i+="a".concat(e," ").concat(e," 0 0 ").concat(Number(!t)," ").concat(-e," ").concat((t?-1:1)*e)}i+="h".concat(-g)}(c-=t)>o&&(o=c),c<a&&(a=c)}}let u={};if(n&&0===e){var d,g;for(let t of Object.keys(h.H))for(let{f:e,t:n}of h.H[t])u["H".concat(t)]=(null!=(d=u["H".concat(t)])?d:"")+"M".concat(e," ").concat(t,"h").concat(n-e);for(let t of Object.keys(h.V))for(let{f:e,t:n}of h.V[t])u["V".concat(t)]=(null!=(g=u["V".concat(t)])?g:"")+"M".concat(t," ").concat(e,"v").concat(n-e)}return{path:"M".concat(-a," ").concat(-s).concat(i),width:o-a,height:r-s,x:-a,y:-s,segments:Object.values(u)}}constructor(t){this.orientation=t,this.moves=[],this.moves.push(this.orientation)}}b.DEFAULT_LENGTH=10,b.DEFAULT_ARC=3,b.DEFAULT_SPLIT=!1,b.orientations=["N","E","S","W"];let E=t=>{var e,n,i;let{options:r,className:s,viewBox:l,...h}=t,{path:u,width:d,height:g,segments:m,x:f,y:p}=(0,c.useMemo)(()=>{let t=new b(r.orientation);return t.run(b.getDirections(r.iterations,r.direction)),t.plot(r.segmentLength,r.arcLength,r.split)},[r]),w=!0===r.border?null!=(e=r.segmentLength)?e:b.DEFAULT_LENGTH:Number(null!=(n=r.border)?n:0),v=r.split||(null!=(i=r.arcLength)?i:b.DEFAULT_ARC)<=0?"round":void 0;return(0,o.jsx)("svg",{...h,className:a()("dragonFractalSVG",s),viewBox:null!=l?l:"0 0 ".concat(d+2*w," ").concat(g+2*w),children:(0,o.jsx)("g",{transform:w>0?"translate(".concat(w+(r.split?f:0),", ").concat(w+(r.split?p:0),")"):void 0,children:r.split?m.map((t,e)=>(0,o.jsx)("path",{d:t,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:v},"seg-".concat(t,"-").concat(e))):(0,o.jsx)("path",{d:u,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:v})})})},S=()=>{let[t,e]=(0,c.useState)({iterations:3,fold:d,orientation:i.Orientation.E,svg:!0}),n=t=>{switch(t.target.value){case"L":e(t=>({...t,fold:d}));break;case"R":e(t=>({...t,fold:g}))}},r=t=>{switch(t.target.value){case"N":e(t=>({...t,orientation:i.Orientation.N}));break;case"E":e(t=>({...t,orientation:i.Orientation.E}));break;case"S":e(t=>({...t,orientation:i.Orientation.S}));break;case"W":e(t=>({...t,orientation:i.Orientation.W}))}},s=t=>{switch(t.target.value){case"svg":e(t=>({...t,svg:!0}));break;case"text":e(t=>({...t,svg:!1}))}};return(0,o.jsxs)("div",{children:[(0,o.jsx)(x,{}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:"Iterations"}),(0,o.jsx)("label",{htmlFor:"newDragons",children:"This will generate a dragon fractal with the specified iterations"}),(0,o.jsx)("input",{id:"newDragons",type:"number",onChange:t=>{let n=parseInt(t.target.value);n>0&&e(t=>({...t,iterations:n}))},value:t.iterations})]}),(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:"Fold orientation"}),(0,o.jsx)("input",{type:"radio",name:"fold",id:"foldLeft",value:"L",onChange:n,checked:t.fold===d}),(0,o.jsx)("label",{htmlFor:"foldLeft",children:"Left"})," ",(0,o.jsx)("input",{type:"radio",name:"fold",id:"foldRight",value:"R",onChange:n,checked:t.fold===g}),(0,o.jsx)("label",{htmlFor:"foldRight",children:"Right"})]}),(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:"Start direction"}),(0,o.jsx)("input",{type:"radio",name:"orientation",id:"orientationNorth",value:"N",onChange:r,checked:t.orientation===i.Orientation.N}),(0,o.jsx)("label",{htmlFor:"orientationNorth",children:"North"})," ",(0,o.jsx)("input",{type:"radio",name:"orientation",id:"orientationEast",value:"E",onChange:r,checked:t.orientation===i.Orientation.E}),(0,o.jsx)("label",{htmlFor:"orientationEast",children:"East"})," ",(0,o.jsx)("input",{type:"radio",name:"orientation",id:"orientationSouth",value:"S",onChange:r,checked:t.orientation===i.Orientation.S}),(0,o.jsx)("label",{htmlFor:"orientationSouth",children:"South"})," ",(0,o.jsx)("input",{type:"radio",name:"orientation",id:"orientationWest",value:"W",onChange:r,checked:t.orientation===i.Orientation.W}),(0,o.jsx)("label",{htmlFor:"orientationWest",children:"West"})," "]}),(0,o.jsxs)("fieldset",{children:[(0,o.jsx)("legend",{children:"Rendering method"}),(0,o.jsx)("input",{type:"radio",name:"rendering",id:"renderingSvg",value:"svg",onChange:s,checked:t.svg}),(0,o.jsx)("label",{htmlFor:"renderingSvg",children:"SVG (will render a single segment with rounded corners up to iteration 14, will slow down after iteration 19 but will still render up to iteration 24)"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"radio",name:"rendering",id:"renderingText",value:"text",onChange:s,checked:!t.svg}),(0,o.jsx)("label",{htmlFor:"renderingText",children:"Text (will not render a single segment, will considerably slow down after iteration 15, will still render up to iteration 22)"})," "]})]}),t.svg?(0,o.jsx)(E,{className:p().dragonSvg,style:{width:"".concat(Math.min(100,Math.max(10,Math.log(t.iterations)/Math.log(17)*100)),"%")},options:{iterations:t.iterations+1,direction:t.fold===d?"L":"R",orientation:function(t){switch(t){case i.Orientation.N:return"N";case i.Orientation.E:return"E";case i.Orientation.S:return"S";case i.Orientation.W:return"W"}}(t.orientation),arcLength:t.iterations>=15?0:void 0,border:!0,split:t.iterations>20}}):(0,o.jsx)("pre",{className:a()({[p().dragons]:!0,[p().dragons__medium]:t.iterations>10&&t.iterations<=13,[p().dragons__small]:t.iterations>13}),children:(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:13,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Orientation.E,r=[];for(let n=1;n<=t;n+=1)r=function(t,e){let n=t.map(m).reverse();switch(e){case d:case g:return[...t,e,...n];default:throw Error("Unknown direction")}}(r,e);let o=new u(n);for(let t of r)o.turn(function(t){switch(t){case d:return i.Direction.L;case g:return i.Direction.R;default:throw Error("Unknown direction")}}(t));return o})(t.iterations,t.fold,t.orientation).toString()})]})}},6295:t=>{t.exports={dragons:"Dragons_dragons__WNzb4",dragons__medium:"Dragons_dragons__medium__IQqN8",dragons__small:"Dragons_dragons__small__jRuwu",dragonSvg:"Dragons_dragonSvg__JulLL"}}},t=>{t.O(0,[4090,587,18,7358],()=>t(t.s=648)),_N_E=t.O()}]);