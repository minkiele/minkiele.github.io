(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6649],{95:(e,t,n)=>{var i=0/0,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,h=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,m=l||u||Function("return this")(),d=Object.prototype.toString,c=Math.max,p=Math.min,v=function(){return m.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==d.call(t))return i;if(f(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=f(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var l=o.test(e);return l||r.test(e)?h(e.slice(2),l?2:8):a.test(e)?i:+e}e.exports=function(e,t,n){var i,s,a,o,r,h,l=0,u=!1,m=!1,d=!0;if("function"!=typeof e)throw TypeError("Expected a function");function w(t){var n=i,a=s;return i=s=void 0,l=t,o=e.apply(a,n)}function y(e){var n=e-h,i=e-l;return void 0===h||n>=t||n<0||m&&i>=a}function b(){var e,n,i,s=v();if(y(s))return x(s);r=setTimeout(b,(e=s-h,n=s-l,i=t-e,m?p(i,a-n):i))}function x(e){return(r=void 0,d&&i)?w(e):(i=s=void 0,o)}function M(){var e,n=v(),a=y(n);if(i=arguments,s=this,h=n,a){if(void 0===r)return l=e=h,r=setTimeout(b,t),u?w(e):o;if(m)return r=setTimeout(b,t),w(h)}return void 0===r&&(r=setTimeout(b,t)),o}return t=g(t)||0,f(n)&&(u=!!n.leading,a=(m="maxWait"in n)?c(g(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),M.cancel=function(){void 0!==r&&clearTimeout(r),l=0,i=h=s=r=void 0},M.flush=function(){return void 0===r?o:x(v())},M}},3451:(e,t,n)=>{"use strict";n.d(t,{default:()=>y});var i=n(4568),s=n(7620),a=n(9874);function o(e){let t=Object.assign({p:"p",a:"a",strong:"strong"},(0,a.RP)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["This is a WebGL scene I made by combining some examples I found in\n",(0,i.jsx)(t.a,{href:"https://threejs.org/docs/index.html#manual/en/introduction/Creating-a-scene",children:"ThreeJS docs"}),"\nand in ",(0,i.jsx)(t.a,{href:"https://github.com/mrdoob/three.js/tree/r148",children:"ThreeJS sources"}),".\nThen I tried to apply ",(0,i.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Spherical_coordinate_system",children:"Spherical Coordinate System"}),"\nto move the camera applied to the scene. I added some solids to not lose the orientation.\n",(0,i.jsx)(t.strong,{children:"Red"})," represents ",(0,i.jsx)(t.strong,{children:"X"})," axis, ",(0,i.jsx)(t.strong,{children:"Green"})," the ",(0,i.jsx)(t.strong,{children:"Y"})," axis and ",(0,i.jsx)(t.strong,{children:"Blue"})," the ",(0,i.jsx)(t.strong,{children:"Z"})," axis. Keeping up with\nthe old OpenGL tradition sometimes I had to flip signs to make things go my way."]}),"\n",(0,i.jsx)(t.p,{children:"To navigate the example you can click and drag the scene to rotate it\nand scroll the mousewheel to zoom in and out."}),"\n",(0,i.jsxs)(t.p,{children:["To navigate the example with keyboard you can use ",(0,i.jsx)(t.strong,{children:"WSAD"})," to move around the scene\nand ",(0,i.jsx)(t.strong,{children:"+ and -"})," to zoom in and out (keep the key pressed for a smoother experience)."]}),"\n",(0,i.jsx)(t.p,{children:"After expanding the example I phased out the initial examples I built."})]})}let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,a.RP)(),e.components);return t?(0,i.jsx)(t,Object.assign({},e,{children:(0,i.jsx)(o,e)})):o(e)};var h=n(9102);class l{static degToRad(e){return e*Math.PI/180}static radToDeg(e){return 180*e/Math.PI}static getNormalizedSphericAngle(e){return(e%l.P2+l.P2)%l.P2}static limitNumericValue(e,t,n){return Math.min(t,Math.max(e,n))}setupCanvas(e){}teardownCanvas(e){}mount(){this.setupScene(this.scene,this.camera),this.setupCanvas(this.renderer.domElement),this.container.appendChild(this.renderer.domElement)}unmount(){this.stop(),this.teardownCanvas(this.renderer.domElement),this.container.removeChild(this.renderer.domElement)}start(){this.isRunningAnimation||(this.update(),this.isRunningAnimation=!0,this.runAnimation(0))}stop(){this.isRunningAnimation=!1}update(){this.updateRenderer(),this.updateCamera(this.camera)}getContainerSize(){let{width:e,height:t}=this.container.getBoundingClientRect();return{width:e,height:t}}updateRenderer(){let{width:e,height:t}=this.getContainerSize();this.renderer.setSize(e,t)}applyAnimationAndRenderFrame(e){this.animate(e,{scene:this.scene,camera:this.camera,canvas:this.renderer.domElement}),this.renderer.render(this.scene,this.camera)}runAnimation(e){this.isRunningAnimation&&(window.requestAnimationFrame(this.runAnimation.bind(this)),this.applyAnimationAndRenderFrame(e))}renderFrame(){this.update(),this.applyAnimationAndRenderFrame(0)}addContainerListener(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.container.addEventListener(...t)}removeContainerListener(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.container.removeEventListener(...t)}constructor(e){this.container=e,this.scene=new h.Z58,this.renderer=new h.JeP,this.isRunningAnimation=!1,this.camera=this.createCamera(),this.update()}}l.P2=2*Math.PI;class u extends l{updateCamera(e){let{width:t,height:n}=this.getContainerSize();e.aspect=t/n,e.updateProjectionMatrix()}}class m{onMouseDownImpl(e){e.preventDefault(),this.previousMovement=void 0,this.isMouseDown=!0}onMouseUpImpl(e){e.preventDefault(),this.isMouseDown=!1,this.previousMovement=void 0}onMouseMoveImpl(e){e.preventDefault(),this.isMouseDown&&(null!=this.previousMovement&&this.dragCallback({x:e.clientX-this.previousMovement.x,y:this.previousMovement.y-e.clientY,z:0}),this.previousMovement={x:e.clientX,y:e.clientY,z:0})}onMouseWheelImpl(e){var t,n,i,s;e.preventDefault(),null!=this.previousMovement&&this.dragCallback({x:this.previousMovement.x,y:this.previousMovement.y,z:e.deltaY}),this.previousMovement={x:null!=(i=null==(t=this.previousMovement)?void 0:t.x)?i:0,y:null!=(s=null==(n=this.previousMovement)?void 0:n.y)?s:0,z:e.deltaY}}teardown(){this.element.removeEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("mouseup",this.onMouseUp),this.element.removeEventListener("mousemove",this.onMouseMove),this.element.removeEventListener("mouseleave",this.onMouseUp),this.element.removeEventListener("wheel",this.onMouseWheel)}constructor(e,t){this.element=e,this.dragCallback=t,this.isMouseDown=!1,this.onMouseDown=this.onMouseDownImpl.bind(this),this.onMouseUp=this.onMouseUpImpl.bind(this),this.onMouseMove=this.onMouseMoveImpl.bind(this),this.onMouseWheel=this.onMouseWheelImpl.bind(this),this.element.addEventListener("mousedown",this.onMouseDown),this.element.addEventListener("mouseup",this.onMouseUp),this.element.addEventListener("mousemove",this.onMouseMove),this.element.addEventListener("mouseleave",this.onMouseUp),this.element.addEventListener("wheel",this.onMouseWheel)}}class d{onKeyDownImpl(e){this.key!==e.key&&(this.timeStamp=void 0),this.callback(e.key,null==this.timeStamp?0:e.timeStamp-this.timeStamp,()=>e.preventDefault()),e.defaultPrevented&&(this.key=e.key,this.timeStamp=e.timeStamp)}onKeyUpImpl(){this.key=void 0,this.timeStamp=void 0}teardown(){this.element.removeEventListener("keydown",this.onKeyDown),this.element.removeEventListener("keyup",this.onKeyUp)}constructor(e,t){this.element=e,this.callback=t,this.onKeyDown=this.onKeyDownImpl.bind(this),this.onKeyUp=this.onKeyUpImpl.bind(this),this.element.addEventListener("keydown",this.onKeyDown),this.element.addEventListener("keyup",this.onKeyUp)}}class c extends u{createCamera(){return new h.ubm(75,1,.1,1e3)}setupScene(e,t){t.position.setFromSphericalCoords(this.cameraRho,this.cameraPhi,this.cameraTheta),t.lookAt(0,0,0);let n=new h.iNn(1,1,1),i=new h.tXL({color:0xf4bb00});this.cube=new h.eaF(n,i),e.add(this.cube);let s=new h.eaF(new h.qFE(.1,.2),new h.tXL({color:0xff0000})),a=new h.eaF(new h.qFE(.1,.2),new h.tXL({color:65280})),o=new h.eaF(new h.qFE(.1,.2),new h.tXL({color:255})),r=new h.eaF(new h.Gu$(.1),new h.tXL({color:0xffffff}));s.position.set(1,0,0),s.rotation.z=-Math.PI/2,a.position.set(0,1,0),o.position.set(0,0,1),o.rotation.x=Math.PI/2,e.add(s),e.add(a),e.add(o),e.add(r);let l=new h.dth(0xffffbb,526368,1);e.add(l)}animate(e,t){let{camera:n}=t;null!=this.cube&&(this.cube.rotation.set(e/2e3%l.P2,e/1e3%l.P2,e/3e3%l.P2),this.cube.position.set(4*this.getAxisRocker(4e3,e)-2,2*this.getAxisRocker(2e3,e)-1,3*this.getAxisRocker(6e3,e)-1.5)),n.position.setFromSphericalCoords(this.cameraRho,this.cameraPhi,this.cameraTheta),n.lookAt(0,0,0)}getAxisRocker(e,t){let n=Math.sign(t%(2*e)/e-1)>=0,i=t%e/e;return this.easeInOutSine(n?i:1-i)}easeInOutSine(e){return-(Math.cos(Math.PI*e)-1)/2}setupCanvas(e){this.mouseDragger=new m(e,this.dragCameraAround.bind(this)),this.keyboardPresser=new d(document.documentElement,this.moveCameraAround.bind(this))}teardownCanvas(){var e,t;null==(e=this.mouseDragger)||e.teardown(),this.mouseDragger=void 0,null==(t=this.keyboardPresser)||t.teardown(),this.keyboardPresser=void 0}setCameraThetaDelta(e){this.cameraTheta=l.getNormalizedSphericAngle(this.cameraTheta+e)}setCameraPhiDelta(e){this.cameraPhi=l.limitNumericValue(0,Math.PI,this.cameraPhi+e)}setCameraRhoDelta(e){this.cameraRho=l.limitNumericValue(2,7,this.cameraRho+e)}dragCameraAround(e){let{x:t,y:n,z:i}=e;this.setCameraThetaDelta(-t/100),this.setCameraPhiDelta(n/100),this.setCameraRhoDelta(i/100)}getKeyDefaultDelta(e,t){return e>0?e:t}moveCameraAround(e,t,n){let i=!0;switch(e){case"w":this.setCameraPhiDelta(this.getKeyDefaultDelta(t,50)/1e3);break;case"a":this.setCameraThetaDelta(this.getKeyDefaultDelta(t,50)/1e3);break;case"s":this.setCameraPhiDelta(-this.getKeyDefaultDelta(t,50)/1e3);break;case"d":this.setCameraThetaDelta(-this.getKeyDefaultDelta(t,50)/1e3);break;case"+":this.setCameraRhoDelta(-this.getKeyDefaultDelta(t,50)/1e3);break;case"-":this.setCameraRhoDelta(this.getKeyDefaultDelta(t,50)/1e3);break;default:i=!1}i&&n()}constructor(...e){super(...e),this.cameraRho=4,this.cameraPhi=Math.PI/4,this.cameraTheta=this.cameraPhi+0}}var p=n(95),v=n.n(p),f=n(5263),g=n.n(f);let w=e=>{let{onInit:t}=e,n=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=n.current;if(null!=e){let n=t(e),i=v()(n.update.bind(n),50);return window.addEventListener("resize",i),n.mount(),n.start(),()=>{window.removeEventListener("resize",i),i.cancel(),n.stop(),n.unmount()}}},[t]),(0,i.jsx)("div",{className:g().container,ref:n})},y=()=>{let e=(0,s.useCallback)(e=>new c(e),[]);return(0,i.jsxs)("div",{children:[(0,i.jsx)(r,{}),(0,i.jsx)(w,{onInit:e})]})}},5263:e=>{e.exports={f4bb00:"#f4bb00",skyColor:"#7999c6",groundColor:"#472506",container:"Three_container__0tDgE"}},7508:(e,t,n)=>{Promise.resolve().then(n.bind(n,3451))},9874:(e,t,n)=>{"use strict";n.d(t,{RP:()=>a});var i=n(7620);let s=i.createContext({});function a(e){let t=i.useContext(s);return i.useMemo(()=>"function"==typeof e?e(t):{...t,...e},[t,e])}}},e=>{e.O(0,[9117,6295,587,1902,7358],()=>e(e.s=7508)),_N_E=e.O()}]);