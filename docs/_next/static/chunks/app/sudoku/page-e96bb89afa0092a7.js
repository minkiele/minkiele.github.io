(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9102],{67:(e,t,r)=>{Promise.resolve().then(r.bind(r,4338))},4338:(e,t,r)=>{"use strict";r.d(t,{default:()=>E});var n=r(7573),l=r(2378),s=r(643),o=r(3094),a=r(7653),u=r(9102);let i=r.n(u)();var c=r(7692),d=r.n(c),h=r(9429);function p(e){let t=Object.assign({p:"p",em:"em"},(0,h.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Simple Sudoku matrix. This whole application was born to actually\nintegrate yet another library I wrote to check the correctness of the\nsudoku, then I added a sudoku generator. First by generating the matrix\nwhere I found that with a high probability the 6th row would never complete,\nadding a reset switch that would completely restart the generation in that case,\nand second by adding some masks I copied from the ",(0,n.jsx)(t.em,{children:"Settimana Enigmistica"}),". With\na little bit of good will I'll add other masks as I have plenty of those.\n(It's kind of boring as you have to copy 81 values from a piece of paper)."]}),"\n",(0,n.jsx)(t.p,{children:"I really don't know if the masks are enough to provide solvability to the\nSudoku, I didn't do any research on the Sudoku theoretics, I just\npieced together things I already knew by completing dozens and dozens of them."})]})}let f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,h.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(p,e)})):p(e)};var m=r(2305);let b=(e,t)=>Array.from({length:t}).map((t,r)=>e(r)),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return b(e=>t+e*r,e)},g=()=>Math.random()-.5,k=(e,t,r)=>r[t].includes(e),y=(e,t,r)=>r.some(r=>r[t]===e),w=(e,t,r,n)=>n.slice(t-t%3,t-t%3+3).some(t=>t.slice(r-r%3,r-r%3+3).some(t=>t===e)),j=()=>v(9,1).sort(g),x=()=>b(e=>0===e?j():b(()=>void 0,9),9),I=()=>{let e=x();for(let t=1;t<9;t+=1)for(let r=0;r<9;r+=1){let n=v(9,1).sort(g);for(;n.length>0;){let l=n.shift();if(!k(l,t,e)&&!y(l,r,e)&&!w(l,t,r,e)){e[t][r]=l;break}}if(null==e[t][r]){if(5===t){e=x(),t=0;break}e[t]=b(()=>void 0,9),r=-1}}return e},S=[[[!0,!1,!1,!1,!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!0],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!0,!1,!0,!1,!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!1,!1,!0]],[[!1,!0,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!1,!0,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!0,!1,!1,!0,!1,!1,!1,!1,!1],[!1,!0,!1,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!0,!1,!0,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!0,!1,!0,!1,!0],[!1,!1,!1,!0,!1,!1,!1,!0,!1]],[[!0,!0,!0,!0,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!0,!0,!0,!0]]],_=()=>S[Math.floor(Math.random()*S.length)],N=()=>{let e=I(),t=_(),r=[];for(let n=0;n<9;n+=1){r[n]=[];for(let l=0;l<9;l+=1)r[n][l]=t[n][l]?"".concat(e[n][l]):""}return r},C="io.github.minkiele.SudokuUI.matrix",Z=e=>e.map(e=>e.map(e=>{let t=parseInt(e);return isNaN(t)?null:t})),E=function(){let e=e=>{let t=Number(e);return isNaN(t)||t<1||t>9?"":"".concat(t)},[t,u]=(0,a.useState)(N()),c=t=>{let{row:r,col:n,value:s}=t;return u(t=>(0,l.Z)([r,n],e(s),t))},[h,p]=(0,a.useState)(!1),b=(0,a.useRef)(r.e(5297).then(r.t.bind(r,5297,23)).then(e=>{let{SudokuMatrix:t}=e;return t}));(0,a.useEffect)(()=>{b.current.then(e=>{p(new e(Z(t)).isValid())})},[t]);let{start:v,stop:g,reset:k,elapsed:y}=(0,m.Z)();(0,a.useEffect)(()=>{h&&g()},[h,g]);let w=(0,a.useRef)((0,s.Z)(()=>(0,o.Z)(null,9),9)),j=(e,t)=>r=>{c({row:e,col:t,value:r.target.value}),v()},x=(e,t)=>r=>{w.current[e][t]=r},I=(0,a.useRef)(),S=(e,t)=>()=>{var r;I.current=null===(r=w.current[e][t])||void 0===r?void 0:r.selectionStart},_=(e,t)=>r=>{var n,l,s,o;switch(r.key){case"ArrowUp":e>0&&(null===(n=w.current[e-1][t])||void 0===n||n.focus());break;case"ArrowDown":e<8&&(null===(l=w.current[e+1][t])||void 0===l||l.focus());break;case"ArrowLeft":t>0&&!I.current&&(null===(s=w.current[e][t-1])||void 0===s||s.focus());break;case"ArrowRight":t<8&&(I.current||!r.currentTarget.value.length)&&(null===(o=w.current[e][t+1])||void 0===o||o.focus())}};return(0,n.jsxs)("div",{children:[(0,n.jsx)(f,{}),(0,n.jsxs)("table",{className:d().table,children:[(0,n.jsxs)("caption",{children:[y,"s ",h&&(0,n.jsx)("span",{children:"Bravo, the sudoku is valid!"})]}),(0,n.jsx)("tbody",{children:(0,s.Z)(e=>(0,n.jsx)("tr",{children:(0,s.Z)(r=>(0,n.jsx)("td",{className:i({[d().cell]:!0}),children:(0,n.jsx)("input",{type:"tel",id:"input-".concat(e,"-").concat(r),value:t[e][r],onChange:j(e,r),className:d().input,ref:x(e,r),onKeyDown:S(e,r),onKeyUp:_(e,r),autoComplete:"off"})},"col-".concat(e,"-").concat(r)),9)},"row-".concat(e)),9)})]}),(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:"Controls"}),(0,n.jsx)("button",{type:"button",onClick:()=>{u(N()),k()},children:"New"})," ",(0,n.jsx)("button",{type:"button",onClick:()=>{localStorage.setItem(C,JSON.stringify(t))},children:"Store"})," ",(0,n.jsx)("button",{type:"button",onClick:()=>{let e=localStorage.getItem(C);if(null!=e)try{let t=JSON.parse(e);u(t),k()}catch(e){}},children:"Restore"})," ",(0,n.jsx)("button",{type:"button",onClick:()=>{u((0,s.Z)(()=>(0,o.Z)("",9),9)),k()},children:"Empty"})]})]})}},2305:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(6161),l=r.n(n),s=r(7653);let o=()=>{let[e,t]=(0,s.useReducer)((e,t)=>{switch(t){case"start":if(null!=e.started)return e;{let e=l()();return{started:e,current:e,elapsed:0}}case"stop":return{...e,started:null,current:null};case"reset":return{started:null,current:null,elapsed:0};default:var r,n;let s=l()();return{...e,current:s,elapsed:null!==(n=null===(r=e.current)||void 0===r?void 0:r.diff(e.started,"s"))&&void 0!==n?n:0}}},{started:null,current:null,elapsed:0}),r=(0,s.useMemo)(()=>({start:()=>t("start"),stop:()=>t("stop"),reset:()=>t("reset")}),[]);return(0,s.useEffect)(()=>{if(null!=e.started){let e=setInterval(()=>{t("update")},1e3);return()=>{clearTimeout(e)}}},[e.started]),(0,s.useMemo)(()=>({...e,...r}),[r,e])}},7692:e=>{e.exports={cell:"SudokuUI_cell__R2zbW",input:"SudokuUI_input__P_9p9",table:"SudokuUI_table__aBIkY"}}},e=>{var t=t=>e(e.s=t);e.O(0,[6669,2261,1174,8765,1744],()=>t(67)),_N_E=e.O()}]);