(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9102],{1060:function(e,t,n){Promise.resolve().then(n.bind(n,6252))},6252:function(e,t,n){"use strict";n.d(t,{default:function(){return E}});var r=n(7573),l=n(2378),o=n(3094),s=n(643),a=n(7653),u=n(9102),i=n.n(u)(),c=n(4074),d=n.n(c),h=n(9429);function f(e){let t=Object.assign({p:"p",em:"em"},(0,h.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Simple Sudoku matrix. This whole application was born to actually\nintegrate yet another library I wrote to check the correctness of the\nsudoku, then I added a sudoku generator. First by generating the matrix\nwhere I found that with a high probability the 6th row would never complete,\nadding a reset switch that would completely restart the generation in that case,\nand second by adding some masks I copied from the ",(0,r.jsx)(t.em,{children:"Settimana Enigmistica"}),". With\na little bit of good will I'll add other masks as I have plenty of those.\n(It's kind of boring as you have to copy 81 values from a piece of paper)."]}),"\n",(0,r.jsx)(t.p,{children:"I really don't know if the masks are enough to provide solvability to the\nSudoku, I didn't do any research on the Sudoku theoretics, I just\npieced together things I already knew by completing dozens and dozens of them."})]})}var p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,h.ah)(),e.components);return t?(0,r.jsx)(t,Object.assign({},e,{children:(0,r.jsx)(f,e)})):f(e)},m=n(2305);let b=(e,t)=>Array.from({length:t}).map((t,n)=>e(n)),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return b(e=>t+e*n,e)},g=()=>Math.random()-.5,k=(e,t,n)=>n[t].includes(e),y=(e,t,n)=>n.some(n=>n[t]===e),w=(e,t,n,r)=>r.slice(t-t%3,t-t%3+3).some(t=>t.slice(n-n%3,n-n%3+3).some(t=>t===e)),j=()=>v(9,1).sort(g),x=()=>b(e=>0===e?j():b(()=>void 0,9),9),I=()=>{let e=x();for(let t=1;t<9;t+=1)for(let n=0;n<9;n+=1){let r=v(9,1).sort(g);for(;r.length>0;){let l=r.shift();if(!k(l,t,e)&&!y(l,n,e)&&!w(l,t,n,e)){e[t][n]=l;break}}if(null==e[t][n]){if(5===t){e=x(),t=0;break}e[t]=b(()=>void 0,9),n=-1}}return e},S=[[[!0,!1,!1,!1,!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!0],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!0,!1,!0,!1,!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!1,!1,!0]],[[!1,!0,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!1,!0,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!0,!1,!1,!0,!1,!1,!1,!1,!1],[!1,!0,!1,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!0,!1,!0,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!0,!1,!0,!1,!0],[!1,!1,!1,!0,!1,!1,!1,!0,!1]],[[!0,!0,!0,!0,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!0,!0,!0,!0]]],_=()=>S[Math.floor(Math.random()*S.length)],N=()=>{let e=I(),t=_(),n=[];for(let r=0;r<9;r+=1){n[r]=[];for(let l=0;l<9;l+=1)n[r][l]=t[r][l]?"".concat(e[r][l]):""}return n},C="io.github.minkiele.SudokuUI.matrix",Z=e=>e.map(e=>e.map(e=>{let t=parseInt(e);return isNaN(t)?null:t}));var E=function(){let e=e=>{let t=Number(e);return isNaN(t)||t<1||t>9?"":"".concat(t)},[t,u]=(0,a.useState)(N()),c=t=>{let{row:n,col:r,value:o}=t;return u(t=>(0,l.Z)([n,r],e(o),t))},[h,f]=(0,a.useState)(!1),b=(0,a.useRef)(n.e(5297).then(n.t.bind(n,5297,23)).then(e=>{let{SudokuMatrix:t}=e;return t}));(0,a.useEffect)(()=>{b.current.then(e=>{f(new e(Z(t)).isValid())})},[t]);let{start:v,stop:g,reset:k,elapsed:y}=(0,m.Z)();(0,a.useEffect)(()=>{h&&g()},[h,g]);let w=(0,a.useRef)((0,s.Z)(()=>(0,o.Z)(null,9),9)),j=(e,t)=>n=>{c({row:e,col:t,value:n.target.value}),v()},x=(e,t)=>n=>{w.current[e][t]=n},I=(0,a.useRef)(),S=(e,t)=>()=>{var n;I.current=null===(n=w.current[e][t])||void 0===n?void 0:n.selectionStart},_=(e,t)=>n=>{var r,l,o,s;switch(n.key){case"ArrowUp":e>0&&(null===(r=w.current[e-1][t])||void 0===r||r.focus());break;case"ArrowDown":e<8&&(null===(l=w.current[e+1][t])||void 0===l||l.focus());break;case"ArrowLeft":t>0&&!I.current&&(null===(o=w.current[e][t-1])||void 0===o||o.focus());break;case"ArrowRight":t<8&&(I.current||!n.currentTarget.value.length)&&(null===(s=w.current[e][t+1])||void 0===s||s.focus())}};return(0,r.jsxs)("div",{children:[(0,r.jsx)(p,{}),(0,r.jsxs)("table",{className:d().table,children:[(0,r.jsxs)("caption",{children:[y,"s ",h&&(0,r.jsx)("span",{children:"Bravo, the sudoku is valid!"})]}),(0,r.jsx)("tbody",{children:(0,s.Z)(e=>(0,r.jsx)("tr",{children:(0,s.Z)(n=>(0,r.jsx)("td",{className:i({[d().cell]:!0}),children:(0,r.jsx)("input",{type:"tel",id:"input-".concat(e,"-").concat(n),value:t[e][n],onChange:j(e,n),className:d().input,ref:x(e,n),onKeyDown:S(e,n),onKeyUp:_(e,n),autoComplete:"off"})},"col-".concat(e,"-").concat(n)),9)},"row-".concat(e)),9)})]}),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:"Controls"}),(0,r.jsx)("button",{type:"button",onClick:()=>{u(N()),k()},children:"New"})," ",(0,r.jsx)("button",{type:"button",onClick:()=>{localStorage.setItem(C,JSON.stringify(t))},children:"Store"})," ",(0,r.jsx)("button",{type:"button",onClick:()=>{let e=localStorage.getItem(C);if(null!=e)try{let t=JSON.parse(e);u(t),k()}catch(e){}},children:"Restore"})," ",(0,r.jsx)("button",{type:"button",onClick:()=>{u((0,s.Z)(()=>(0,o.Z)("",9),9)),k()},children:"Empty"})]})]})}},2305:function(e,t,n){"use strict";var r=n(6161),l=n.n(r),o=n(7653);t.Z=()=>{let[e,t]=(0,o.useReducer)((e,t)=>{switch(t){case"start":if(null!=e.started)return e;{let e=l()();return{started:e,current:e,elapsed:0}}case"stop":return{...e,started:null,current:null};case"reset":return{started:null,current:null,elapsed:0};default:var n,r;let o=l()();return{...e,current:o,elapsed:null!==(r=null===(n=e.current)||void 0===n?void 0:n.diff(e.started,"s"))&&void 0!==r?r:0}}},{started:null,current:null,elapsed:0}),n=(0,o.useMemo)(()=>({start:()=>t("start"),stop:()=>t("stop"),reset:()=>t("reset")}),[]);return(0,o.useEffect)(()=>{if(null!=e.started){let e=setInterval(()=>{t("update")},1e3);return()=>{clearTimeout(e)}}},[e.started]),(0,o.useMemo)(()=>({...e,...n}),[n,e])}},4074:function(e){e.exports={cell:"SudokuUI_cell__R2zbW",input:"SudokuUI_input__P_9p9",table:"SudokuUI_table__aBIkY"}}},function(e){e.O(0,[2957,2261,1293,286,1744],function(){return e(e.s=1060)}),_N_E=e.O()}]);