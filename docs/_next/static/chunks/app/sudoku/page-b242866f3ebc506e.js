(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9870],{1463:e=>{e.exports={cell:"SudokuUI_cell__R2zbW",input:"SudokuUI_input__P_9p9",table:"SudokuUI_table__aBIkY"}},3445:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var n=r(4568),l=r(1297),s=r(8842),o=r(8179),a=r(7620),u=r(5150);let c=r.n(u)();var i=r(1463),d=r.n(i),h=r(4571);function p(e){let t=Object.assign({p:"p",em:"em"},(0,h.RP)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Simple Sudoku matrix. This whole application was born to actually\nintegrate yet another library I wrote to check the correctness of the\nsudoku, then I added a sudoku generator. First by generating the matrix\nwhere I found that with a high probability the 6th row would never complete,\nadding a reset switch that would completely restart the generation in that case,\nand second by adding some masks I copied from the ",(0,n.jsx)(t.em,{children:"Settimana Enigmistica"}),". With\na little bit of good will I'll add other masks as I have plenty of those.\n(It's kind of boring as you have to copy 81 values from a piece of paper)."]}),"\n",(0,n.jsx)(t.p,{children:"I really don't know if the masks are enough to provide solvability to the\nSudoku, I didn't do any research on the Sudoku theoretics, I just\npieced together things I already knew by completing dozens and dozens of them."})]})}let f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,h.RP)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(p,e)})):p(e)};var m=r(6184);let b=(e,t)=>Array.from({length:t}).map((t,r)=>e(r)),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return b(e=>t+e*r,e)},k=()=>Math.random()-.5,v=(e,t,r)=>r[t].includes(e),y=(e,t,r)=>r.some(r=>r[t]===e),w=(e,t,r,n)=>n.slice(t-t%3,t-t%3+3).some(t=>t.slice(r-r%3,r-r%3+3).some(t=>t===e)),j=()=>b(e=>0===e?g(9,1).sort(k):b(()=>void 0,9),9),x=[[[!0,!1,!1,!1,!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!0,!1,!0],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!0,!1,!0,!1,!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!1,!1,!1,!1,!0]],[[!1,!0,!1,!1,!1,!0,!1,!1,!1],[!0,!1,!0,!1,!0,!1,!0,!1,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!0,!1,!1,!0,!1,!1,!1,!1,!1],[!1,!0,!1,!1,!0,!1,!1,!0,!1],[!1,!1,!1,!1,!1,!0,!1,!0,!1],[!1,!0,!1,!0,!1,!0,!1,!0,!1],[!1,!1,!0,!1,!0,!1,!0,!1,!0],[!1,!1,!1,!0,!1,!1,!1,!0,!1]],[[!0,!0,!0,!0,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!1,!1,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!1,!1],[!0,!1,!1,!1,!1,!0,!0,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!0,!0,!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1,!0,!0,!0,!0]]],I=()=>{let e=(()=>{let e=j();for(let t=1;t<9;t+=1)for(let r=0;r<9;r+=1){let n=g(9,1).sort(k);for(;n.length>0;){let l=n.shift();if(!v(l,t,e)&&!y(l,r,e)&&!w(l,t,r,e)){e[t][r]=l;break}}if(null==e[t][r])if(5===t){e=j(),t=0;break}else e[t]=b(()=>void 0,9),r=-1}return e})(),t=x[Math.floor(Math.random()*x.length)],r=[];for(let n=0;n<9;n+=1){r[n]=[];for(let l=0;l<9;l+=1)r[n][l]=t[n][l]?"".concat(e[n][l]):""}return r},S="io.github.minkiele.SudokuUI.matrix",_=function(){let[e,t]=(0,a.useState)(I()),[u,i]=(0,a.useState)(!1),h=(0,a.useRef)(r.e(1846).then(r.t.bind(r,1846,23)).then(e=>{let{SudokuMatrix:t}=e;return t}));(0,a.useEffect)(()=>{h.current.then(t=>{i(new t(e.map(e=>e.map(e=>{let t=parseInt(e);return isNaN(t)?null:t}))).isValid())})},[e]);let{start:p,stop:b,reset:g,elapsed:k}=(0,m.A)();(0,a.useEffect)(()=>{u&&b()},[u,b]);let v=(0,a.useRef)((0,s.A)(()=>(0,o.A)(null,9),9)),y=(0,a.useRef)();return(0,n.jsxs)("div",{children:[(0,n.jsx)(f,{}),(0,n.jsxs)("table",{className:d().table,children:[(0,n.jsxs)("caption",{children:[k,"s ",u&&(0,n.jsx)("span",{children:"Bravo, the sudoku is valid!"})]}),(0,n.jsx)("tbody",{children:(0,s.A)(r=>(0,n.jsx)("tr",{children:(0,s.A)(s=>(0,n.jsx)("td",{className:c({[d().cell]:!0}),children:(0,n.jsx)("input",{type:"tel",id:"input-".concat(r,"-").concat(s),value:e[r][s],onChange:e=>{(e=>{let{row:r,col:n,value:s}=e;return t(e=>(0,l.A)([r,n],(e=>{let t=Number(e);return isNaN(t)||t<1||t>9?"":"".concat(t)})(s),e))})({row:r,col:s,value:e.target.value}),p()},className:d().input,ref:e=>{v.current[r][s]=e},onKeyDown:()=>{var e;y.current=null==(e=v.current[r][s])?void 0:e.selectionStart},onKeyUp:e=>{var t,n,l,o;switch(e.key){case"ArrowUp":r>0&&(null==(t=v.current[r-1][s])||t.focus());break;case"ArrowDown":r<8&&(null==(n=v.current[r+1][s])||n.focus());break;case"ArrowLeft":s>0&&!y.current&&(null==(l=v.current[r][s-1])||l.focus());break;case"ArrowRight":s<8&&(y.current||!e.currentTarget.value.length)&&(null==(o=v.current[r][s+1])||o.focus())}},autoComplete:"off"})},"col-".concat(r,"-").concat(s)),9)},"row-".concat(r)),9)})]}),(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:"Controls"}),(0,n.jsx)("button",{type:"button",onClick:()=>{t(I()),g()},children:"New"})," ",(0,n.jsx)("button",{type:"button",onClick:()=>{localStorage.setItem(S,JSON.stringify(e))},children:"Store"})," ",(0,n.jsx)("button",{type:"button",onClick:()=>{let e=localStorage.getItem(S);if(null!=e)try{let r=JSON.parse(e);t(r),g()}catch(e){}},children:"Restore"})," ",(0,n.jsx)("button",{type:"button",onClick:()=>{t((0,s.A)(()=>(0,o.A)("",9),9)),g()},children:"Empty"})]})]})}},6184:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6734),l=r.n(n),s=r(7620);let o=()=>{let[e,t]=(0,s.useReducer)((e,t)=>{switch(t){case"start":if(null!=e.started)return e;{let e=l()();return{started:e,current:e,elapsed:0}}case"stop":return{...e,started:null,current:null};case"reset":return{started:null,current:null,elapsed:0};default:var r,n;let s=l()();return{...e,current:s,elapsed:null!=(n=null==(r=e.current)?void 0:r.diff(e.started,"s"))?n:0}}},{started:null,current:null,elapsed:0}),r=(0,s.useMemo)(()=>({start:()=>t("start"),stop:()=>t("stop"),reset:()=>t("reset")}),[]);return(0,s.useEffect)(()=>{if(null!=e.started){let e=setInterval(()=>{t("update")},1e3);return()=>{clearTimeout(e)}}},[e.started]),(0,s.useMemo)(()=>({...e,...r}),[r,e])}},7444:(e,t,r)=>{Promise.resolve().then(r.bind(r,3445))}},e=>{e.O(0,[8074,6516,587,18,7358],()=>e(e.s=7444)),_N_E=e.O()}]);