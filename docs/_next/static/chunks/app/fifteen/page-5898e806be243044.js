(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{5811:(e,t,l)=>{Promise.resolve().then(l.bind(l,8478))},8478:(e,t,l)=>{"use strict";l.d(t,{default:()=>g});var s=l(7573),i=l(7653),n=l(4432),r=l(9868);let a={tiles:[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,null]],hole:{x:3,y:3},lastMove:null,isPlaying:!1,isValid:!0,scrdata:{step:-1,total:0,speed:200}},o=(e,t)=>{let{x:l,y:s}=e,{x:i,y:n}=t;return i===l&&(n>0&&n===s+1||n<3&&n===s-1)||n===s&&(i>0&&i===l+1||i<3&&i===l-1)},d=e=>{for(let t=0;t<4;t+=1)for(let l=0;l<4;l+=1){let s=4*t+l+1;if(s<16&&s!==e[t][l])return!1}return!0},c=e=>{let{x:t,y:l}=e,s=[];return l>0&&s.push({x:t,y:l-1}),t<3&&s.push({x:t+1,y:l}),l<3&&s.push({x:t,y:l+1}),t>0&&s.push({x:t-1,y:l}),s[Math.floor(Math.random()*s.length)]},u=(e,t)=>e>=0&&e<t,h=(0,n.Ue)()((0,r.n)(e=>({...a,reset:()=>{e(e=>({...e,...a}))},move:t=>{e(e=>{o(t,e.hole)&&(e.isPlaying||(e.isPlaying=!0),e.tiles[e.hole.y][e.hole.x]=e.tiles[t.y][t.x],e.tiles[t.y][t.x]=null,e.lastMove=e.hole,e.hole=t,e.isValid=d(e.tiles),u(e.scrdata.step,e.scrdata.total)&&(e.scrdata.step+=1))})},scramble:function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;e(e=>{e.scrdata.step<0&&(e.scrdata.step=0,e.scrdata.total=t,e.scrdata.speed=l)})},stop:()=>{e(e=>{e.scrdata.step=-1})}}))),p=(e,t)=>{let{x:l,y:s}=e,{x:i,y:n}=t;return l===i&&s===n},m=()=>{let{move:e,scrdata:{step:t,total:l,speed:s},lastMove:n,hole:r,stop:a,...o}=h();return(0,i.useEffect)(()=>{if(u(t,l))for(;;){let t=c(r);if(null==n||!p(t,n)){let l=setTimeout(()=>{e(t)},s);return()=>{clearTimeout(l)}}}else a()},[t,l,r,n,e,s,a]),(0,i.useMemo)(()=>({...o,isScrambling:u(t,l),lastMove:n,move:e}),[e,t,l,o,n])};var f=l(2924),x=l.n(f),_=l(9429);function b(e){let t=Object.assign({p:"p",a:"a"},(0,_.ah)(),e.components);return(0,s.jsxs)(t.p,{children:["This is an implementation of the game Fifteen, inspired after reading a story in the ",(0,s.jsx)(t.a,{href:"https://www.folklore.org/Puzzle.html",children:"Folklore.org"})," website."]})}let j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,_.ah)(),e.components);return t?(0,s.jsx)(t,Object.assign({},e,{children:(0,s.jsx)(b,e)})):b(e)},v=(e,t)=>{var l;return null===(l=t.target[e])||void 0===l?void 0:l.value},y=(e,t,l)=>{if(null!=e){let t=parseInt(e);if(!isNaN(t)&&(null==l||l(t)))return t}return t},g=()=>{let{move:e,reset:t,scramble:l,isPlaying:n,isValid:r,isScrambling:a,tiles:o}=m(),d=(t,l)=>()=>{a||e({x:t,y:l})};return(0,i.useEffect)(()=>{l(15)},[l]),(0,s.jsxs)("div",{children:[(0,s.jsx)(j,{}),(0,s.jsx)("div",{className:x().tiles,children:o.map((e,t)=>(0,s.jsx)("div",{className:x().tiles_row,children:e.map((e,l)=>null==e?(0,s.jsx)("span",{className:x().tiles_hole,children:"\xa0"},"col-".concat(l)):(0,s.jsx)("button",{className:x().tiles_tile,onClick:d(l,t),children:e},"col-".concat(l)))},"row-".concat(t)))}),n&&r&&(0,s.jsx)("p",{children:"You won!"}),(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),a||l(y(v("moves",e),15,e=>e>=0),y(v("speed",e),200,e=>e>=0))},children:(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:"Controls"}),(0,s.jsx)("label",{htmlFor:"moves",children:"Moves"})," ",(0,s.jsx)("input",{type:"number",name:"moves",id:"moves",defaultValue:15,disabled:a})," ",(0,s.jsx)("label",{htmlFor:"moves",children:"Speed"})," ",(0,s.jsx)("input",{type:"number",name:"speed",id:"speed",defaultValue:200,disabled:a})," ",(0,s.jsx)("button",{type:"submit",disabled:a,children:"Scramble"}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{type:"button",onClick:t,disabled:a,children:"Reset"})]})})]})}},2924:e=>{e.exports={tiles:"Fifteen_tiles__xNC8m",tiles_row:"Fifteen_tiles_row__u6spT",tiles_hole:"Fifteen_tiles_hole__sQd01",tiles_tile:"Fifteen_tiles_tile__k27nq"}}},e=>{var t=t=>e(e.s=t);e.O(0,[4105,1295,1174,8765,1744],()=>t(5811)),_N_E=e.O()}]);