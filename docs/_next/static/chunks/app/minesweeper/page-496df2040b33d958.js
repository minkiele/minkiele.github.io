(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{2094:function(){},4947:function(e,t,i){Promise.resolve().then(i.bind(i,2847))},7610:function(e,t,i){"use strict";i.d(t,{B:function(){return event},L:function(){return pageview}});let pageview=e=>{var t,i;null===(t=(i=window).gtag)||void 0===t||t.call(i,"config","G-97E9ECN60Y",{page_path:e})},event=e=>{var t,i;let{action:n,category:s,label:r,value:l}=e;null===(i=window)||void 0===i||null===(t=i.gtag)||void 0===t||t.call(i,"event",n,{event_category:s,event_label:r,value:l})}},2875:function(e,t,i){"use strict";i.d(t,{IT:function(){return s},j0:function(){return r}});let n=[{route:"/",name:"Minkiele",setTitle:!1},{route:"/snake",name:"Snake"},{route:"/minesweeper",name:"Minesweeper"},{route:"/tictactoe",name:"Tic Tac Toe"},{route:"/vietnam",name:"Vietnam"},{route:"/24",name:"24 Clock",archived:!0},{route:"/sudoku",name:"Sudoku",archived:!0},{route:"/anagrammator",name:"Anagrammator"},{route:"/cruciverba",name:"Cruciverba"},{route:"/numeri-a-caso",name:"Numeri a caso",archived:!0},{route:"/parole",name:"Ora a parole"},{route:"/palle",name:"Ora a palla",archived:!0},{route:"/jump-matrix",name:"Jumps",archived:!0},{route:"/tartaglia-triangle",name:"Tartaglia's triangle",archived:!0},{route:"/dragon-fractal",name:"The Dragon Fractal"},{route:"/demodogs",name:"Demo Dogs",archived:!0},{route:"/folypo",name:"Folypo",archived:!0},{route:"/factorize",name:"Factorizer",archived:!0},{route:"/three",name:"Three",archived:!0},{route:"/soundpad",name:"SoundPad",prefetch:!1,archived:!0},{route:"/md2html",name:"MD2HTML",prefetch:!1,archived:!0},{route:"/archive",name:"The Archive",prefetch:!1}],s=n.filter(e=>!0!==e.archived),r=n.filter(e=>!0===e.archived)},2847:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return apps_Minesweeper_Minesweeper}});var n=i(7573),s=i(446),r=i.n(s),l=i(2943),a=i(3401),o=i(7653),u=i(9572);i(2296),i(2875);var d=i(7610),h=i(821),p=i(9809),c=i(530);(0,h.Z)(c.Z,p.Z);var m=i(8292),M=i.n(m),g=i(6869),_=i.n(g);let Minesweeper=class Minesweeper{static getMinesweeperEnum(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((e,t)=>({...e,[t]:Symbol(t)}),{})}getStatus(){return this.status}setStatus(e){this.status=e,this.emit(Minesweeper.EVENT.STATUS,this.status)}reset(e){null!=e&&(this.options={...this.options,...e}),this.initializeEmptyMinefield(),this.setStatus(Minesweeper.STATUS.UNINITIALIZED)}initializeEmptyMinefield(){this.tiles=_()(this.options.height,e=>_()(this.options.width,t=>({isFlag:!1,isMine:!1,isSteppedOn:!1,surroundingMines:0,x:t,y:e})))}stepOn(e,t){let{isFlag:i,isSteppedOn:n,isMine:s}=this.tiles[t][e];!i&&(n?this.isTileSurroundingFlaggedMines(e,t)&&(this.setStatus(Minesweeper.STATUS.IN_GAME),this.stepOnSurroundingTiles(e,t)):(this.status===Minesweeper.STATUS.UNINITIALIZED&&(this.initializeMinefield(e,t),this.setStatus(Minesweeper.STATUS.IN_GAME)),this.tiles[t][e].isSteppedOn=!0,s?this.setStatus(Minesweeper.STATUS.GAME_OVER):this.isTileEmpty(e,t)&&(this.startChainReaction(e,t),this.setStatus(Minesweeper.STATUS.IN_GAME)))),this.emit(Minesweeper.EVENT.STEP),this.isMinefieldComplete()&&this.setStatus(Minesweeper.STATUS.COMPLETE)}stepOnSurroundingTiles(e,t){this.callSurroundingTiles(e,t,(e,t)=>{let{isMine:i,isFlag:n}=this.tiles[t][e];this.tiles[t][e].isSteppedOn||(this.isTileEmpty(e,t)?(this.tiles[t][e].isSteppedOn=!0,this.startChainReaction(e,t)):Minesweeper.xor(i,n)?this.setStatus(Minesweeper.STATUS.GAME_OVER):n||(this.tiles[t][e].isSteppedOn=!0))})}isTileSurroundingFlaggedMines(e,t){let{isFlag:i,isMine:n,isSteppedOn:s,surroundingMines:r}=this.tiles[t][e];if(!i&&!n&&s&&r>0){let i=0;if(this.callSurroundingTiles(e,t,(e,t)=>{this.tiles[t][e].isFlag&&(i+=1)}),i===r)return!0}return!1}isTileEmpty(e,t){let{isFlag:i,isMine:n,surroundingMines:s}=this.tiles[t][e];return!(i||n||s>0)}startChainReaction(e,t){this.callSurroundingTiles(e,t,(e,t)=>{this.tiles[t][e].isSteppedOn||this.tiles[t][e].isFlag||(this.isTileEmpty(e,t)?(this.tiles[t][e].isSteppedOn=!0,this.startChainReaction(e,t)):this.tiles[t][e].surroundingMines>0&&(this.tiles[t][e].isSteppedOn=!0))})}initializeMinefield(e,t){let i=this.options.mines>this.options.width*this.options.height-this.getSurroundingTileArea(e,t),n=0;for(;n<this.options.mines;){let s=Math.floor(Math.random()*this.options.width),r=Math.floor(Math.random()*this.options.height),l=i&&(s===e||r===t)||!i&&this.isTileInArea(e,t,s,r);l||this.tiles[r][s].isMine||(this.tiles[r][s].isMine=!0,n+=1)}for(let e=0;e<this.options.height;e+=1)for(let t=0;t<this.options.width;t+=1)this.tiles[e][t].isMine||this.callSurroundingTiles(t,e,(i,n)=>{this.tiles[n][i].isMine&&(this.tiles[e][t].surroundingMines+=1)})}getSurroundingTileArea(e,t){let{minX:i,maxX:n,minY:s,maxY:r}=this.getSurroundingTileLimits(e,t);return(n+1-i)*(r+1-s)}isTileInArea(e,t,i,n){let{minX:s,maxX:r,minY:l,maxY:a}=this.getSurroundingTileLimits(e,t);return i>=s&&i<=r&&n>=l&&n<=a}getSurroundingTileLimits(e,t){let i=Math.min(this.options.height-1,t+1),n=Math.min(this.options.width-1,e+1);return{minX:Math.max(0,e-1),maxX:n,minY:Math.max(0,t-1),maxY:i}}callSurroundingTiles(e,t,i){let{minX:n,maxX:s,minY:r,maxY:l}=this.getSurroundingTileLimits(e,t);for(let a=r;a<=l;a+=1)for(let r=n;r<=s;r+=1)(r!==e||a!==t)&&i(r,a)}toggleFlag(e,t){this.tiles[t][e].isSteppedOn||(this.tiles[t][e].isFlag=!this.tiles[t][e].isFlag,this.emit(Minesweeper.EVENT.STEP))}isMinefieldComplete(){return this.tiles.reduce((e,t)=>e&&t.reduce((e,t)=>{let{isSteppedOn:i,isMine:n}=t;return e&&Minesweeper.xor(i,n)},!0),!0)}static xor(e,t){return e&&!t||!e&&t}getMinefield(){return this.tiles.map(e=>({...e}))}getFlaggedMines(){return this.tiles.reduce((e,t)=>e+t.reduce((e,t)=>e+(t.isFlag?1:0),0),0)}constructor(e){this.options={...Minesweeper.DIFFICULTY[Minesweeper.DEFAULT_DIFFICULTY]},this.tiles=[],this.status=Minesweeper.STATUS.UNINITIALIZED,this.eventEmitter=new(M()),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.off=this.eventEmitter.off.bind(this.eventEmitter),this.emit=this.eventEmitter.emit.bind(this.eventEmitter),this.reset(e)}};Minesweeper.DIFFICULTY={EASY:{width:9,height:9,mines:10},MEDIUM:{width:16,height:16,mines:40},HARD:{width:30,height:16,mines:99}},Minesweeper.DEFAULT_DIFFICULTY="EASY",Minesweeper.STATUS=Minesweeper.getMinesweeperEnum("UNINITIALIZED","IN_GAME","GAME_OVER","COMPLETE"),Minesweeper.EVENT=Minesweeper.getMinesweeperEnum("START","STEP","STATUS");var T=i(2705),S=i.n(T);let getMinefieldStyle=(e,t)=>({width:"calc(var(--minesweeper-tile-width) * ".concat(e,")"),height:"calc(var(--minesweeper-tile-height) * ".concat(t,")")}),isCoastingTile=e=>!0===e.isSteppedOn&&!1===e.isMine&&!1===e.isFlag&&e.surroundingMines>0,isEmptyTile=e=>!0===e.isSteppedOn&&!1===e.isMine&&!1===e.isFlag&&0===e.surroundingMines;var w=i(5505),E=i(7953);function _createMdxContent(e){let t=Object.assign({p:"p",h2:"h2",h3:"h3",em:"em"},(0,E.ah)(),e.components);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(t.p,{children:"That's it. I don't have anything else to do. Well, I know there's a lot to\nfix and optimize but now I'm too tired."}),"\n",(0,w.jsx)(t.h2,{children:"How it works"}),"\n",(0,w.jsx)(t.p,{children:"I tried to replicate the original game but there are some things I had to change\nto make it work in mobile and with dark theme. There are two modes, Click mode and Flag mode."}),"\n",(0,w.jsx)(t.h3,{children:"Click mode"}),"\n",(0,w.jsxs)(t.p,{children:["When in click mode you can click on every tile. By clicking an empty uncoverd tile you will go to\n",(0,w.jsx)(t.em,{children:"Flag mode"}),". By clicking a number you will expose all the tiles around (only if there are the number's\namount of tiles flagged). By pressing ",(0,w.jsx)(t.em,{children:"command"})," on ",(0,w.jsx)(t.em,{children:"macOS"})," and ",(0,w.jsx)(t.em,{children:"alt"})," on other O.S. and clicking on an\nuncovered tile you will toggle the flag over the selected cell. By right-clicking a covered tile\nyou will toggle the flag over the selected cell."]}),"\n",(0,w.jsx)(t.h3,{children:"Flag mode"}),"\n",(0,w.jsxs)(t.p,{children:["When in flag mode you can only flag uncovered tiles. No more, no less (well you can still click\nempty uncovered tiles and go back to ",(0,w.jsx)(t.em,{children:"Click mode"}),")."]})]})}var README=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,E.ah)(),e.components);return t?(0,w.jsx)(t,Object.assign({},e,{children:(0,w.jsx)(_createMdxContent,e)})):_createMdxContent(e)},apps_Minesweeper_Minesweeper=()=>{let[e,t]=(0,o.useState)(Minesweeper.DIFFICULTY[Minesweeper.DEFAULT_DIFFICULTY]),i=(0,o.useRef)(new Minesweeper(e)),[s,h]=(0,o.useState)(i.current.getMinefield()),[p,c]=(0,o.useState)(i.current.getStatus()),[m,M]=(0,o.useState)(e.mines-i.current.getFlaggedMines()),[g,_]=(0,o.useState)(!0),{reset:T,start:w,stop:E,elapsed:f}=(0,u.Z)();(0,o.useEffect)(()=>{i.current.reset(e),h(i.current.getMinefield()),M(e.mines-i.current.getFlaggedMines()),c(i.current.getStatus()),_(!0),T()},[e,T]),(0,o.useEffect)(()=>{let handleUpdate=()=>{h(i.current.getMinefield()),M(e.mines-i.current.getFlaggedMines())};i.current.on(Minesweeper.EVENT.STEP,handleUpdate);let handleStatus=e=>{switch(c(e),e){case Minesweeper.STATUS.UNINITIALIZED:handleUpdate(),T();break;case Minesweeper.STATUS.IN_GAME:w();break;case Minesweeper.STATUS.COMPLETE:case Minesweeper.STATUS.GAME_OVER:E()}};return i.current.on(Minesweeper.EVENT.STATUS,handleStatus),()=>{i.current.off(Minesweeper.EVENT.STEP,handleUpdate),i.current.off(Minesweeper.EVENT.STATUS,handleStatus)}},[e,T,w,E]),(0,o.useEffect)(()=>{let handleComplete=e=>{e===Minesweeper.STATUS.COMPLETE&&(0,d.B)({action:"minesweeper"})};return i.current.on(Minesweeper.EVENT.STATUS,handleComplete),()=>{i.current.off(Minesweeper.EVENT.STATUS,handleComplete)}},[e,T,w,E]);let handleMouseUp=(e,t,n)=>s=>{s.preventDefault();let r=isEmptyTile(n);r?_(e=>!e):!(g||isCoastingTile(n))||s.metaKey||2===s.button?i.current.toggleFlag(e,t):i.current.stepOn(e,t)},v=(0,o.useCallback)((e,t)=>{if(null!=t){let i={[S().tile]:!0,[S().tile__stepped]:t.isSteppedOn,[S().tile__flag]:t.isFlag,[S()["tile__number".concat(t.surroundingMines)]]:!t.isFlag&&t.isSteppedOn&&t.surroundingMines>0},s=(0,n.jsx)(n.Fragment,{children:"\xa0"});switch(!t.isFlag&&(g||t.isSteppedOn||p===Minesweeper.STATUS.COMPLETE||p===Minesweeper.STATUS.GAME_OVER)?t.isSteppedOn&&t.surroundingMines>0&&(s="".concat(t.surroundingMines)):s="\uD83C\uDFF4",p){case Minesweeper.STATUS.UNINITIALIZED:case Minesweeper.STATUS.IN_GAME:return(0,o.cloneElement)(e,{className:r()({...i,[S().tile__flagMode]:!g&&!t.isSteppedOn&&!t.isFlag})},s);case Minesweeper.STATUS.COMPLETE:return(0,o.cloneElement)(e,{className:r()(i),onMouseUp:void 0},s);case Minesweeper.STATUS.GAME_OVER:return!t.isFlag&&t.isMine?s="\uD83D\uDCA3":!t.isSteppedOn&&t.isFlag&&t.isMine?s="\uD83C\uDFF4":t.isFlag&&!t.isMine&&(s="❌"),(0,o.cloneElement)(e,{className:r()({...i,[S().tile__mine]:!t.isSteppedOn&&!t.isFlag&&t.isMine,[S().tile__steppedOnMine]:t.isSteppedOn&&!t.isFlag&&t.isMine,[S().tile__flag]:!t.isSteppedOn&&t.isFlag&&t.isMine,[S().tile__falseFlag]:t.isFlag&&!t.isMine}),onMouseUp:void 0},s)}}return e},[g,p]),A=(0,l.Z)(e=>{t({...e})}),F=(0,l.Z)(_),{width:b,height:x}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(README,{}),(0,n.jsx)("div",{className:S().scrollable,children:(0,n.jsx)("table",{className:S().table,style:getMinefieldStyle(b,x),onContextMenu:e=>e.preventDefault(),children:(0,n.jsx)("tbody",{children:(0,a.Z)(e=>(0,n.jsx)("tr",{children:(0,a.Z)(t=>{var i;return(null==s?void 0:null===(i=s[e])||void 0===i?void 0:i[t])!=null&&v((0,n.jsx)("td",{className:r()({[S().tile]:!0}),onMouseUp:handleMouseUp(t,e,s[e][t]),children:"\xa0"},"tile-x-".concat(t,"-y-").concat(e)),s[e][t])},b)},"row-".concat(e)),x)})})}),(0,n.jsxs)("div",{children:[p===Minesweeper.STATUS.UNINITIALIZED&&(0,n.jsx)("p",{children:"Ready..."}),p===Minesweeper.STATUS.IN_GAME&&(0,n.jsxs)("p",{children:["After ",f,"s you still have to flag ",m," mines to finish.",m<0&&(0,n.jsx)(n.Fragment,{children:" Wait, what!?"})]}),p===Minesweeper.STATUS.GAME_OVER&&(0,n.jsx)("p",{children:"Oops!"}),p===Minesweeper.STATUS.COMPLETE&&(0,n.jsxs)("p",{children:["Bravo! Hooray! You sweeped all mines in ",f,"s!"]})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:"Mode"}),(0,n.jsx)("input",{type:"radio",name:"stepMode",id:"setStepModeStep",value:"step",onChange:F(!0),checked:g}),(0,n.jsx)("label",{htmlFor:"setStepModeStep",children:"Click"})," ",(0,n.jsx)("input",{type:"radio",name:"stepMode",id:"setStepModeFlag",value:"flag",onChange:F(!1),checked:!g}),(0,n.jsx)("label",{htmlFor:"setStepModeFlag",children:"Flag"})]})}),(0,n.jsx)("div",{children:(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:"Choose your density (ehm... destiny)"}),(0,n.jsx)("button",{type:"button",onClick:()=>{i.current.reset(),_(!0),T()},children:"New game"})," ",(0,n.jsx)("button",{type:"button",onClick:A(Minesweeper.DIFFICULTY.EASY),children:"Easy"})," ",(0,n.jsx)("button",{type:"button",onClick:A(Minesweeper.DIFFICULTY.MEDIUM),children:"Medium"})," ",(0,n.jsx)("button",{type:"button",onClick:A(Minesweeper.DIFFICULTY.HARD),children:"Hard"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();let i=e.target.width.value,n=e.target.height.value,s=e.target.mines.value,r=parseInt(i),l=parseInt(n),a=parseInt(s);(isNaN(r)||r<3)&&(r=3),(isNaN(l)||l<3)&&(l=3),isNaN(a)?a=Math.floor(.15*r*l):a<1?a=1:a>=r*l&&(a=r*l-1),t({width:r,height:l,mines:a})},children:[(0,n.jsx)("label",{htmlFor:"width",children:"Width"})," ",(0,n.jsx)("input",{id:"width",name:"width",type:"number",defaultValue:b,min:3})," ",(0,n.jsx)("label",{htmlFor:"height",children:"Height"})," ",(0,n.jsx)("input",{id:"height",name:"height",type:"number",defaultValue:x,min:3})," ",(0,n.jsx)("label",{htmlFor:"mines",children:"Mines"})," ",(0,n.jsx)("input",{id:"mines",name:"mines",type:"number",defaultValue:m,min:1})," ",(0,n.jsx)("button",{type:"submit",children:"Custom"})]})]})})]})}},9572:function(e,t,i){"use strict";var n=i(8910),s=i.n(n),r=i(7653);t.Z=()=>{let[e,t]=(0,r.useReducer)((e,t)=>{switch(t){case"start":if(null!=e.started)return e;{let e=s()();return{started:e,current:e,elapsed:0}}case"stop":return{...e,started:null,current:null};case"reset":return{started:null,current:null,elapsed:0};default:var i,n;let r=s()();return{...e,current:r,elapsed:null!==(n=null===(i=e.current)||void 0===i?void 0:i.diff(e.started,"s"))&&void 0!==n?n:0}}},{started:null,current:null,elapsed:0}),i=(0,r.useMemo)(()=>({start:()=>t("start"),stop:()=>t("stop"),reset:()=>t("reset")}),[]);return(0,r.useEffect)(()=>{if(null!=e.started){let e=setInterval(()=>{t("update")},1e3);return()=>{clearTimeout(e)}}},[e.started]),(0,r.useMemo)(()=>({...e,...i}),[i,e])}},2705:function(e){e.exports={scrollable:"Minesweeper_scrollable__s2Uyo",table:"Minesweeper_table__d6V_p",tile:"Minesweeper_tile__OON22",tile__steppedOnMine:"Minesweeper_tile__steppedOnMine__ey3am",tile__flag:"Minesweeper_tile__flag__Y1g6P",tile__falseFlag:"Minesweeper_tile__falseFlag__DNq8b",tile__flagMode:"Minesweeper_tile__flagMode__Txeqb",tile__mine:"Minesweeper_tile__mine__jIPmL",tile__stepped:"Minesweeper_tile__stepped__A3bhV",tile__number1:"Minesweeper_tile__number1__Gpsjy",tile__number2:"Minesweeper_tile__number2__Y8d2g",tile__number3:"Minesweeper_tile__number3__vcwsZ",tile__number4:"Minesweeper_tile__number4__v2ZXe",tile__number5:"Minesweeper_tile__number5__BfArl",tile__number6:"Minesweeper_tile__number6__wBgmG",tile__number7:"Minesweeper_tile__number7__XQVzy",tile__number8:"Minesweeper_tile__number8__jV8Mp"}}},function(e){e.O(0,[342,327,697,984,293,197,744],function(){return e(e.s=4947)}),_N_E=e.O()}]);