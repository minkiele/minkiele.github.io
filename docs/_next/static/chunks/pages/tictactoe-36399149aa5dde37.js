(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2779:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function classNames(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=classNames.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(classNames.default=classNames,e.exports=classNames):void 0!==(n=(function(){return classNames}).apply(t,[]))&&(e.exports=n)}()},70:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tictactoe",function(){return n(2689)}])},2689:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return p},default:function(){return tictactoe}});var r=n(2322),a=n(2784),i=n(3413),o=n.n(i),s=n(5392);function _createMdxContent(e){let t=Object.assign({p:"p"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Implementation of Tic Tac Toe, 1 vs 1 and 1 vs PC.\nPlayer 1 plays always with ❌ while Player 2 and PC play with ⭕."}),"\n",(0,r.jsx)(t.p,{children:"There's a rudimentary algorithm to try and determine the next move by the PC.\nAlso the waiting between moves is just aesthetic."}),"\n",(0,r.jsx)(t.p,{children:"There's also a a little support for accessibility, with aria labels\nand announcements of PC plays."})]})}var README=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,s.ah)(),e.components);return t?(0,r.jsx)(t,Object.assign({},e,{children:(0,r.jsx)(_createMdxContent,e)})):_createMdxContent(e)},l=n(2779),c=n.n(l),u=n(2213),d=n(1373),_=n(2034);let h=Symbol("❌"),g=Symbol("⭕️"),getInitialState=function(){let{sign:e=h,side:t=3,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{vsPc:!1,movePc:!1,...n,matrix:(0,_.Z)(()=>(0,d.Z)(null,t),t),sign:e,side:t,victoryCoords:void 0,announce:void 0}},getVictoryTests=e=>[...(0,_.Z)(t=>(0,_.Z)(e=>[t,e],e),e),...(0,_.Z)(t=>(0,_.Z)(e=>[e,t],e),e),(0,_.Z)(e=>[e,e],e),(0,_.Z)(t=>[e-t-1,t],e)],getVictoryCoords=e=>{let t=getVictoryTests(e.length);e:for(let n=0;n<t.length;n+=1){let[[r,a]]=t[n];if(null!=e[r][a]){for(let r=1;r<t[n].length;r+=1){let[a,i]=t[n][r-1],[o,s]=t[n][r];if(e[a][i]!==e[o][s])continue e}return t[n]}}},getStrikeDirection=e=>{if(e.length<2)return 2;{let[[t,n],[r,a]]=e;return n===a?0:t===r?2:t===n?1:3}},getStrikeData=(e,t,n,r)=>(null==n?void 0:n.some(n=>{let[r,a]=n;return r===e&&a===t}))?r[getStrikeDirection(n)]:void 0,getChanceCoords=(e,t,n)=>getVictoryTests(t.length).filter(r=>{let[a,i]=r.reduce((n,r)=>{let[a,i]=r;return t[a][i]===e?[n[0]+1,n[1]]:null==t[a][i]?[n[0],n[1]+1]:n},[0,0]);return n(a,i)}),pickOne=e=>e[Math.floor(Math.random()*e.length)],getAboutToWinCoord=(e,t)=>{let n=getChanceCoords(e,t,(e,n)=>e===t.length-1&&1===n);if(n.length>0){let e=pickOne(n);return e.find(e=>{let[n,r]=e;return null==t[n][r]})}},isDiagonalCell=(e,t,n)=>e===t||n-1-t===e||e-n-1===t,getPossibilityCoord=(e,t)=>{let n=getChanceCoords(e,t,(e,n)=>1===e&&n===t.length-1),r=[];for(let e=0;e<t.length;e+=1)for(let a=0;a<t[e].length;a+=1){let i=n.reduce((n,r)=>r.some(n=>{let[r,i]=n;return e==r&&a===i&&null==t[r][i]})?n+1:n,0);i>0&&r.push({coords:[e,a],ranking:i,diagonal:isDiagonalCell(e,a,t.length)})}if(r.sort((0,u.Z)((e,t)=>e.ranking>=t.ranking||e.ranking===t.ranking&&e.diagonal)),r.length>0){let e=r.filter(e=>{let{ranking:t,diagonal:n}=e;return t===r[0].ranking&&(!r[0].diagonal||n)});return pickOne(e)}},getEmptyCoords=e=>e.reduce((e,t,n)=>[...e,...t.reduce((e,t,r)=>null==t?[...e,[n,r]]:e,[])],[]),pickRandomEmptyFromList=(e,t)=>[...e].sort((0,u.Z)(()=>.5>Math.random())).find(e=>{let[n,r]=e;return null==t[n][r]}),inDiagonalParadox=e=>{let t=e.reduce((e,t)=>e+t.reduce((e,t)=>null!=t?e+1:e,0),0);return t===e.length&&e[1][1]===g&&(null!=e[0][0]&&e[0][0]===e[e.length-1][e.length-1]||null!=e[e.length-1][0]&&e[e.length-1][0]===e[0][e.length-1])},pickEmptyCoordinate=e=>{let t=getEmptyCoords(e);if(t.length===e.length**2)return pickOne(t);let n=getAboutToWinCoord(g,e);if(n)return n;let r=getAboutToWinCoord(h,e);if(null!=r)return r;if(e.length%2==1&&t.find(e=>{let[t,n]=e;return 1===t&&1===n}))return[1,1];if(3===e.length){if(inDiagonalParadox(e))return pickRandomEmptyFromList([[0,1],[1,0],[1,2],[2,1]],e);let t=getPossibilityCoord(g,e),n=getPossibilityCoord(h,e);if(null!=t&&null!=n&&n.ranking>t.ranking)return n.coords;if(null!=t)return t.coords;if(null!=n)return n.coords}if(t.length>0)return pickOne(t)},getOrdinalLabel=(e,t,n,r,a)=>{if(0===e)return t;if(e===a-1)return r;if(e===(a-1)/2)return n;let i=(e+1)%10;return"".concat(e+1).concat(i<1||i>3||e>9&&e<13?"th":1===i?"st":2===i?"nd":"rd")},getAriaLabel=(e,t,n)=>{let r=getOrdinalLabel(e,"top","center","bottom",n),a=getOrdinalLabel(t,"left","center","right",n);return"center"===r&&r===a?"central":"".concat(r,"-").concat(a)},useTicTacToe=()=>(0,a.useReducer)((e,t)=>{switch(t.type){case"mark":if(null==e.matrix[t.row][t.col]&&null==e.victoryCoords){let n=[...e.matrix.slice(0,t.row),[...e.matrix[t.row].slice(0,t.col),e.sign,...e.matrix[t.row].slice(t.col+1)],...e.matrix.slice(t.row+1)],r=getVictoryCoords(n),a=null==r?e.sign===h?g:h:e.sign;return{...e,matrix:n,sign:a,victoryCoords:r,movePc:e.vsPc&&!e.movePc,announce:e.vsPc&&e.movePc?[t.row,t.col]:void 0}}return e;case"vspc":return{...e,vsPc:t.enabled,movePc:t.enabled&&null==e.victoryCoords&&e.sign===g};case"reset":return getInitialState({sign:t.sign,side:t.side,vsPc:e.vsPc,movePc:e.vsPc&&t.sign===g});case"unannounce":return{...e,announce:void 0};default:return e}},getInitialState());var p=!0,tictactoe=()=>{let[{matrix:e,victoryCoords:t,sign:n,vsPc:i,movePc:s,announce:l,side:u},d]=useTicTacToe(),handleMark=(e,t)=>()=>{s||d({type:"mark",row:e,col:t})},handleResetSign=e=>()=>{d({type:"reset",side:u,sign:e})},handleVsPc=e=>()=>{d({type:"vspc",enabled:e})},_=(0,a.useCallback)((e,n)=>getStrikeData(e,n,t,["".concat(o().board_strike," ").concat(o().board_strike__0),"".concat(o().board_strike," ").concat(o().board_strike__1),"".concat(o().board_strike," ").concat(o().board_strike__2),"".concat(o().board_strike," ").concat(o().board_strike__3)]),[t]),p=(0,a.useMemo)(()=>e.some(e=>e.some(e=>null==e)),[e]);(0,a.useEffect)(()=>{if(s){let t=setTimeout(()=>{let t=pickEmptyCoordinate(e);null!=t&&d({type:"mark",row:t[0],col:t[1]})},1e3);return()=>{clearTimeout(t)}}},[s,e,d]),(0,a.useEffect)(()=>{if(l){let e=setTimeout(()=>{d({type:"unannounce"})},2e3);return()=>{clearTimeout(e)}}},[l,d]);let b=(0,a.useMemo)(()=>(0,r.jsx)("span",{className:o().board_sign,children:(0,r.jsx)("span",{className:o().board_empty,"aria-hidden":!0,children:"♻️"})}),[]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(README,{}),(0,r.jsx)("div",{className:o().board,children:e.map((e,a)=>(0,r.jsx)("div",{className:o().board_row,children:e.map((e,i)=>(0,r.jsxs)("div",{className:c()({[o().board_col]:!0,[_(a,i)]:_(a,i)}),children:[null==e&&(null!=t?b:(0,r.jsx)("button",{type:"button",className:o().board_button,onClick:handleMark(a,i),"aria-label":"Mark with ".concat(n.description," the ").concat(getAriaLabel(a,i,u)," space"),children:b})),null!=e&&(0,r.jsx)("span",{className:o().board_sign,"aria-label":"".concat(getAriaLabel(a,i,u)," space marked with  ").concat(e.description),children:e.description})]},"col-".concat(i)))},"row-".concat(a)))}),null!=l&&(0,r.jsxs)("p",{role:"alert","aria-live":"assertive",className:"sr-only",children:["PC marked with ⭕ the ",getAriaLabel(...l,u)," space"]}),t?(0,r.jsxs)("p",{role:"alert","aria-live":"assertive",children:[(0,r.jsx)("span",{className:o().board_sign,children:n.description})," won!"]}):!p&&(0,r.jsx)("p",{role:"alert","aria-live":"assertive",children:"Draw game, no moves possible."}),(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("legend",{children:"Settings"}),"Player 1 (",(0,r.jsx)("span",{className:o().board_sign,children:"❌"}),") Vs."," ",(0,r.jsx)("input",{type:"radio",name:"vspc",id:"vspcFalse",value:"false",onChange:handleVsPc(!1),checked:!i}),(0,r.jsx)("label",{htmlFor:"vspcFalse",children:"Player 2 "})," ",(0,r.jsx)("input",{type:"radio",name:"vspc",id:"vspcTrue",value:"true",onChange:handleVsPc(!0),checked:i}),(0,r.jsx)("label",{htmlFor:"vspcTrue",children:"PC "})," (",(0,r.jsx)("span",{className:o().board_sign,children:"⭕"}),")",(0,r.jsx)("br",{}),(0,r.jsx)("label",{htmlFor:"side",children:"Size of the grid: "}),(0,r.jsx)("input",{type:"number",name:"side",id:"side",onChange:e=>{let t=parseInt(e.target.value);d({type:"reset",side:isNaN(t)||t<1?3:t,sign:n})},value:u}),"x",u,(0,r.jsx)("br",{}),(0,r.jsx)("button",{type:"button",onClick:handleResetSign(h),children:"New match"})," ",(0,r.jsxs)("button",{type:"button",onClick:handleResetSign(g),children:["New match, but starts ",(0,r.jsx)("span",{className:o().board_sign,children:"⭕"})]})]})]})}},3413:function(e){e.exports={board:"TicTacToe_board__PuRk4",board_button:"TicTacToe_board_button__4WWSO",board_col:"TicTacToe_board_col__1o1K_",board_row:"TicTacToe_board_row__XQdrv",board_empty:"TicTacToe_board_empty__hp7to",board_strike:"TicTacToe_board_strike__4u3wQ",board_strike__0:"TicTacToe_board_strike__0__eI2M_",board_strike__1:"TicTacToe_board_strike__1__SDpeI",board_strike__2:"TicTacToe_board_strike__2__TxGHa",board_strike__3:"TicTacToe_board_strike__3__fJUk6",board_sign:"TicTacToe_board_sign__7bsf_"}},5392:function(e,t,n){"use strict";n.d(t,{ah:function(){return useMDXComponents}});var r=n(2784);let a=r.createContext({});function useMDXComponents(e){let t=r.useContext(a);return r.useMemo(()=>"function"==typeof e?e(t):{...t,...e},[t,e])}},2213:function(e,t,n){"use strict";var r=(0,n(9757).Z)(function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}});t.Z=r},1373:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5652),a=(0,n(9757).Z)(function(e){return function(){return e}}),i=n(2034),o=(0,r.Z)(function(e,t){return(0,i.Z)(a(e),t)})},2034:function(e,t,n){"use strict";var r=(0,n(5652).Z)(function(e,t){var n,r=Number(t),a=0;if(r<0||isNaN(r))throw RangeError("n must be a non-negative number");for(n=Array(r);a<r;)n[a]=e(a),a+=1;return n});t.Z=r}},function(e){e.O(0,[774,888,179],function(){return e(e.s=70)}),_N_E=e.O()}]);