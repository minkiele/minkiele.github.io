(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2779:function(e,t){var r;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var l=o.apply(null,r);l&&e.push(l)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0!==(r=(function(){return o}).apply(t,[]))&&(e.exports=r)}()},70:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tictactoe",function(){return r(62)}])},62:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return M},default:function(){return D}});var n=r(2322),o=r(6573),a=r(2784),l=r(3538),i=r.n(l),s=r(5392);function c(e){let t=Object.assign({p:"p"},(0,s.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Implementation of Tic Tac Toe, 1 vs 1 and 1 vs PC.\nPlayer 1 plays always with ❌ while Player 2 and PC play with ⭕."}),"\n",(0,n.jsx)(t.p,{children:"There's a rudimentary algorithm to try and determine the next move by the PC.\nAlso the waiting between moves is just aesthetic."}),"\n",(0,n.jsx)(t.p,{children:"There's also a a little support for accessibility, with aria labels\nand announcements of PC plays."})]})}var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,s.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(c,e)})):c(e)},d=r(2779),_=r.n(d);let h=Symbol("X"),b=Symbol("O"),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return{matrix:(0,o.DZ1)(()=>(0,o.rx1)(null,3),3),sign:e,victoryCoords:void 0,vsPc:!1,movePc:!1,announce:void 0}},p=[...(0,o.DZ1)(e=>(0,o.DZ1)(t=>[e,t],3),3),...(0,o.DZ1)(e=>(0,o.DZ1)(t=>[t,e],3),3),(0,o.DZ1)(e=>[e,e],3),(0,o.DZ1)(e=>[3-e-1,e],3)],m=e=>{e:for(let t=0;t<p.length;t+=1){let[[r,n]]=p[t];if(null!=e[r][n]){for(let o=1;o<p[t].length;o+=1){let[a,l]=p[t][o-1],[i,s]=p[t][o];if(e[a][l]!==e[i][s])continue e}return p[t]}}},v=e=>{{let[[t,r],[n,o]]=e;return r===o?0:t===n?2:t===r?1:3}},g=(e,t,r,n)=>(null==r?void 0:r.some(r=>{let[n,o]=r;return n===e&&o===t}))?n[v(r)]:void 0,x=(e,t,r)=>p.filter(n=>{let[o,a]=n.reduce((r,n)=>{let[o,a]=n;return t[o][a]===e?[r[0]+1,r[1]]:null==t[o][a]?[r[0],r[1]+1]:r},[0,0]);return r(o,a)}),T=(e,t)=>{let r=x(e,t,(e,t)=>2===e&&1===t);if(r.length>0){let n=r[Math.floor(Math.random()*r.length)];return n.find(e=>{let[r,n]=e;return null==t[r][n]})}},k=(e,t)=>e===t||2-t===e||e-3-1===t,y=(e,t)=>{let r=x(e,t,(e,t)=>1===e&&2===t),n=[];for(let a=0;a<t.length;a+=1)for(let l=0;l<t[a].length;l+=1){let i=r.reduce((e,r)=>r.some(e=>{let[r,n]=e;return a==r&&l===n&&null==t[r][n]})?e+1:e,0);i>0&&n.push({coords:[a,l],ranking:i,diagonal:k(a,l)})}if(n.sort((0,o.Ukb)((e,t)=>e.ranking>=t.ranking||e.ranking===t.ranking&&e.diagonal)),n.length>0){let s=n.filter(e=>{let{ranking:t,diagonal:r}=e;return t===n[0].ranking&&(!n[0].diagonal||r)});return s[Math.floor(Math.random()*s.length)]}},j=e=>e.reduce((e,t,r)=>[...e,...t.reduce((e,t,n)=>null==t?[...e,[r,n]]:e,[])],[]),w=(e,t)=>[...e].sort((0,o.Ukb)(()=>.5>Math.random())).find(e=>{let[r,n]=e;return null==t[r][n]}),P=e=>{let t=e.reduce((e,t)=>e+t.reduce((e,t)=>null!=t?e+1:e,0),0);return 3===t&&e[1][1]===b&&(null!=e[0][0]&&e[0][0]===e[2][2]||null!=e[2][0]&&e[2][0]===e[0][2])},C=e=>{let t=j(e),r=T(b,e);if(r)return r;let n=T(h,e);if(null!=n)return n;{if(t.find(e=>{let[t,r]=e;return 1===t&&1===r}))return[1,1];if(P(e))return w([[0,1],[1,0],[1,2],[2,1]],e);let o=y(b,e),a=y(h,e);if(null!=o&&null!=a&&a.ranking>o.ranking)return a.coords;if(null!=o)return o.coords;if(null!=a)return a.coords}if(t.length>0)return t[Math.floor(Math.random()*t.length)]},N=()=>{let[{matrix:e,victoryCoords:t,sign:r,vsPc:o,movePc:l,announce:s},c]=(0,a.useReducer)((e,t)=>{switch(t.type){case"mark":if(null==e.matrix[t.row][t.col]&&null==e.victoryCoords){let r=[...e.matrix.slice(0,t.row),[...e.matrix[t.row].slice(0,t.col),e.sign,...e.matrix[t.row].slice(t.col+1)],...e.matrix.slice(t.row+1)],n=m(r),o=null==n?e.sign===h?b:h:e.sign;return{...e,matrix:r,sign:o,victoryCoords:n,movePc:e.vsPc&&!e.movePc,announce:e.vsPc&&e.movePc?[t.row,t.col]:void 0}}return e;case"vspc":return{...e,vsPc:t.enabled,movePc:t.enabled&&null==e.victoryCoords&&e.sign===b};case"reset":return{...f(t.sign),vsPc:e.vsPc,movePc:e.vsPc&&t.sign===b};case"unannounce":return{...e,announce:void 0};default:return e}},f()),d=(e,t)=>()=>{l||c({type:"mark",row:e,col:t})},p=e=>()=>{c({type:"reset",sign:e})},v=e=>()=>{c({type:"vspc",enabled:e})},x=(0,a.useCallback)((e,r)=>g(e,r,t,["".concat(i().board_strike," ").concat(i().board_strike__0),"".concat(i().board_strike," ").concat(i().board_strike__1),"".concat(i().board_strike," ").concat(i().board_strike__2),"".concat(i().board_strike," ").concat(i().board_strike__3)]),[t]),T=(0,a.useMemo)(()=>e.some(e=>e.some(e=>null==e)),[e]);(0,a.useEffect)(()=>{if(l){let t=setTimeout(()=>{let t=C(e);null!=t&&c({type:"mark",row:t[0],col:t[1]})},1e3);return()=>{clearTimeout(t)}}},[l,e]);let k=(e,t,r)=>{if(0===e)return t;if(2===e)return r;if(1===e)return"center";let n=(e+1)%10;return"".concat(e+1).concat(n<1||n>3||e>9&&e<13?"th":1===n?"st":2===n?"nd":"rd")};return(0,a.useEffect)(()=>{if(s){let e=setTimeout(()=>{c({type:"unannounce"})},2e3);return()=>{clearTimeout(e)}}},[s]),(0,n.jsxs)("div",{children:[(0,n.jsx)(u,{}),(0,n.jsx)("div",{className:i().board,children:e.map((e,t)=>(0,n.jsx)("div",{className:i().board_row,children:e.map((e,r)=>(0,n.jsxs)("div",{className:_()({[i().board_col]:!0,[x(t,r)]:x(t,r)}),children:[null==e&&(0,n.jsx)("button",{type:"button",className:i().board_button,onClick:d(t,r),"aria-label":"Mark with ".concat(h?"❌":"⭕"," the ").concat(k(t,"top","bottom"),"-").concat(k(r,"left","right")," cell"),children:(0,n.jsx)("span",{className:i().board_sign,children:(0,n.jsx)("span",{className:i().board_empty,children:"♻️"})})}),null!=e&&(0,n.jsxs)("span",{className:i().board_sign,"aria-label":"".concat(k(t,"top","bottom"),"-").concat(k(r,"left","right")," cell marked with  ").concat(e?"❌":"⭕"),children:[e===h&&"❌",e===b&&"⭕"]})]},"col-".concat(r)))},"row-".concat(t)))}),null!=s&&(0,n.jsxs)("p",{role:"alert","aria-live":"assertive",children:["PC marked with ⭕ the ",k(s[0],"top","bottom"),"-",k(s[1],"left","right")," cell"]}),t?(0,n.jsxs)("p",{role:"alert","aria-live":"assertive",children:[(0,n.jsx)("span",{className:i().board_sign,children:r===h?"❌":"⭕"})," ","won!"]}):!T&&(0,n.jsx)("p",{role:"alert","aria-live":"assertive",children:"Draw game, no moves possible."}),(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:"Settings"}),"Player 1 (",(0,n.jsx)("span",{className:i().board_sign,children:"❌"}),") Vs."," ",(0,n.jsx)("input",{type:"radio",name:"vspc",id:"vspcFalse",value:"false",onChange:v(!1),checked:!o}),(0,n.jsx)("label",{htmlFor:"vspcFalse",children:"Player 2 "})," ",(0,n.jsx)("input",{type:"radio",name:"vspc",id:"vspcTrue",value:"true",onChange:v(!0),checked:o}),(0,n.jsx)("label",{htmlFor:"vspcTrue",children:"PC "})," (",(0,n.jsx)("span",{className:i().board_sign,children:"⭕"}),")",(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"button",onClick:p(),children:"New match"})," ",(0,n.jsxs)("button",{type:"button",onClick:p(b),children:["New match, but starts ",(0,n.jsx)("span",{className:i().board_sign,children:"⭕"})]})]})]})};var M=!0,D=N},3538:function(e){e.exports={board:"TicTacToe_board__Xokqn",board_button:"TicTacToe_board_button__bWXCA",board_col:"TicTacToe_board_col__kGVyW",board_row:"TicTacToe_board_row__M3Mzo",board_empty:"TicTacToe_board_empty__qd7G_",board_strike:"TicTacToe_board_strike__h0u2v",board_strike__0:"TicTacToe_board_strike__0__E7Znq",board_strike__1:"TicTacToe_board_strike__1__c1lAi",board_strike__2:"TicTacToe_board_strike__2__nUFw3",board_strike__3:"TicTacToe_board_strike__3__WzMfe",board_sign:"TicTacToe_board_sign__lDtDD"}},5392:function(e,t,r){"use strict";r.d(t,{ah:function(){return a}});var n=r(2784);let o=n.createContext({});function a(e){let t=n.useContext(o);return n.useMemo(()=>"function"==typeof e?e(t):{...t,...e},[t,e])}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=70)}),_N_E=e.O()}]);