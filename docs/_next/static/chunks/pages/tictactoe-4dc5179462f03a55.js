(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{70:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tictactoe",function(){return n(62)}])},62:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return C},default:function(){return N}});var t=n(2322),o=n(6573),l=n(2784),a=n(3538),s=n.n(a),c=n(5392);function i(e){let r=Object.assign({p:"p"},(0,c.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"Implementation of Tic Tac Toe, 1 vs 1 and 1 vs PC.\nPlayer 1 plays always with ❌ while Player 2 and PC play with ⭕."}),"\n",(0,t.jsx)(r.p,{children:"There's a rudimentary algorithm to try and determine the next move by the PC.\nAlso the waiting between moves is just aesthetic."})]})}var d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,c.ah)(),e.components);return r?(0,t.jsx)(r,Object.assign({},e,{children:(0,t.jsx)(i,e)})):i(e)};let u=Symbol("X"),_=Symbol("O"),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return{matrix:(0,o.DZ1)(()=>(0,o.rx1)(null,3),3),sign:e,victoryCoords:void 0,vsPc:!1,movePc:!1}},b=[...(0,o.DZ1)(e=>(0,o.DZ1)(r=>[e,r],3),3),...(0,o.DZ1)(e=>(0,o.DZ1)(r=>[r,e],3),3),(0,o.DZ1)(e=>[e,e],3),(0,o.DZ1)(e=>[3-e-1,e],3)],m=e=>{e:for(let r=0;r<b.length;r+=1){let[[n,t]]=b[r];if(null!=e[n][t]){for(let o=1;o<b[r].length;o+=1){let[l,a]=b[r][o-1],[s,c]=b[r][o];if(e[l][a]!==e[s][c])continue e}return b[r]}}},f=e=>{{let[[r,n],[t,o]]=e;return n===o?0:r===t?2:r===n?1:3}},p=(e,r,n,t)=>(null==n?void 0:n.some(n=>{let[t,o]=n;return t===e&&o===r}))?t[f(n)]:void 0,g=(e,r,n)=>b.filter(t=>{let[o,l]=t.reduce((n,t)=>{let[o,l]=t;return r[o][l]===e?[n[0]+1,n[1]]:null==r[o][l]?[n[0],n[1]+1]:n},[0,0]);return n(o,l)}),v=(e,r)=>{let n=g(e,r,(e,r)=>2===e&&1===r);if(n.length>0){let t=n[Math.floor(Math.random()*n.length)];return t.find(e=>{let[n,t]=e;return null==r[n][t]})}},k=(e,r)=>e===r||2-r===e||e-3-1===r,T=(e,r)=>{let n=g(e,r,(e,r)=>1===e&&2===r),t=[];for(let l=0;l<r.length;l+=1)for(let a=0;a<r[l].length;a+=1){let s=n.reduce((e,n)=>n.some(e=>{let[n,t]=e;return l==n&&a===t&&null==r[n][t]})?e+1:e,0);s>0&&t.push({coords:[l,a],ranking:s,diagonal:k(l,a)})}if(t.sort((0,o.Ukb)((e,r)=>e.ranking>=r.ranking||e.ranking===r.ranking&&e.diagonal)),t.length>0){let c=t.filter(e=>{let{ranking:r,diagonal:n}=e;return r===t[0].ranking&&(!t[0].diagonal||n)});return c[Math.floor(Math.random()*c.length)]}},x=e=>e.reduce((e,r,n)=>[...e,...r.reduce((e,r,t)=>null==r?[...e,[n,t]]:e,[])],[]),j=(e,r)=>[...e].sort((0,o.Ukb)(()=>.5>Math.random())).find(e=>{let[n,t]=e;return null==r[n][t]}),w=e=>{let r=e.reduce((e,r)=>e+r.reduce((e,r)=>null!=r?e+1:e,0),0);return 3===r&&e[1][1]===_&&(null!=e[0][0]&&e[0][0]===e[2][2]||null!=e[2][0]&&e[2][0]===e[0][2])},y=e=>{let r=x(e),n=v(_,e);if(n)return n;let t=v(u,e);if(null!=t)return t;{if(r.find(e=>{let[r,n]=e;return 1===r&&1===n}))return[1,1];if(w(e))return j([[0,1],[1,0],[1,2],[2,1]],e);let o=T(_,e),l=T(u,e);if(null!=o&&null!=l&&l.ranking>o.ranking)return l.coords;if(null!=o)return o.coords;if(null!=l)return l.coords}if(r.length>0)return r[Math.floor(Math.random()*r.length)]},P=()=>{let[{matrix:e,victoryCoords:r,sign:n,vsPc:o,movePc:a},c]=(0,l.useReducer)((e,r)=>{switch(r.type){case"mark":if(null==e.matrix[r.row][r.col]&&null==e.victoryCoords){let n=[...e.matrix.slice(0,r.row),[...e.matrix[r.row].slice(0,r.col),e.sign,...e.matrix[r.row].slice(r.col+1)],...e.matrix.slice(r.row+1)],t=m(n),o=null==t?e.sign===u?_:u:e.sign;return{...e,matrix:n,sign:o,victoryCoords:t,movePc:e.vsPc&&!e.movePc}}return e;case"vspc":return{...e,vsPc:r.enabled,movePc:r.enabled&&null==e.victoryCoords&&e.sign===_};case"reset":return{...h(r.sign),vsPc:e.vsPc,movePc:e.vsPc&&r.sign===_};default:return e}},h()),i=(e,r)=>()=>{a||c({type:"mark",row:e,col:r})},b=e=>()=>{c({type:"reset",sign:e})},f=e=>()=>{c({type:"vspc",enabled:e})},g=(0,l.useCallback)((e,n)=>p(e,n,r,["".concat(s().board_strike," ").concat(s().board_strike__0),"".concat(s().board_strike," ").concat(s().board_strike__1),"".concat(s().board_strike," ").concat(s().board_strike__2),"".concat(s().board_strike," ").concat(s().board_strike__3)]),[r]),v=(0,l.useMemo)(()=>e.some(e=>e.some(e=>null==e)),[e]);return(0,l.useEffect)(()=>{if(a){let r=setTimeout(()=>{let r=y(e);null!=r&&c({type:"mark",row:r[0],col:r[1]})},1e3);return()=>{clearTimeout(r)}}},[a,e]),(0,t.jsxs)("div",{children:[(0,t.jsx)(d,{}),(0,t.jsx)("div",{className:s().board,children:e.map((e,r)=>(0,t.jsx)("div",{className:s().board_row,children:e.map((e,n)=>(0,t.jsx)("div",{className:"".concat(s().board_col," ").concat(g(r,n)),onClick:i(r,n),children:(0,t.jsxs)("span",{className:s().board_sign,children:[e===u&&"❌",e===_&&"⭕",null==e&&(0,t.jsx)("span",{className:s().board_empty,children:"♻️"})]})},"col-".concat(n)))},"row-".concat(r)))}),r?(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:s().board_sign,children:n===u?"❌":"⭕"})," ","won!"]}):!v&&(0,t.jsx)("p",{children:"Draw, no moves possible."}),(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:"Settings"}),"Player 1 (",(0,t.jsx)("span",{className:s().board_sign,children:"❌"}),") Vs."," ",(0,t.jsx)("input",{type:"radio",name:"vspc",id:"vspcFalse",value:"false",onChange:f(!1),checked:!o}),(0,t.jsx)("label",{htmlFor:"vspcFalse",children:"Player 2 "})," ",(0,t.jsx)("input",{type:"radio",name:"vspc",id:"vspcTrue",value:"true",onChange:f(!0),checked:o}),(0,t.jsx)("label",{htmlFor:"vspcTrue",children:"PC "})," (",(0,t.jsx)("span",{className:s().board_sign,children:"⭕"}),")",(0,t.jsx)("br",{}),(0,t.jsx)("button",{type:"button",onClick:b(),children:"New match"})," ",(0,t.jsxs)("button",{type:"button",onClick:b(_),children:["New match, but starts ",(0,t.jsx)("span",{className:s().board_sign,children:"⭕"})]})]})]})};var C=!0,N=P},3538:function(e){e.exports={board:"TicTacToe_board__Xokqn",board_row:"TicTacToe_board_row__M3Mzo",board_col:"TicTacToe_board_col__kGVyW",board_empty:"TicTacToe_board_empty__qd7G_",board_strike:"TicTacToe_board_strike__h0u2v",board_strike__0:"TicTacToe_board_strike__0__E7Znq",board_strike__1:"TicTacToe_board_strike__1__c1lAi",board_strike__2:"TicTacToe_board_strike__2__nUFw3",board_strike__3:"TicTacToe_board_strike__3__WzMfe",board_sign:"TicTacToe_board_sign__lDtDD"}},5392:function(e,r,n){"use strict";n.d(r,{ah:function(){return l}});var t=n(2784);let o=t.createContext({});function l(e){let r=t.useContext(o);return t.useMemo(()=>"function"==typeof e?e(r):{...r,...e},[r,e])}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=70)}),_N_E=e.O()}]);