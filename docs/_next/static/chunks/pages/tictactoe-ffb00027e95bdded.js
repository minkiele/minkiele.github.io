(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{70:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tictactoe",function(){return t(62)}])},62:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return C},default:function(){return M}});var n=t(2322),o=t(6573),l=t(2784),a=t(3538),c=t.n(a),i=t(5392);function s(e){let r=Object.assign({p:"p"},(0,i.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"Implementation of Tic Tac Toe, 1 vs 1 and 1 vs PC.\nPlayer 1 is human always starts with X."}),"\n",(0,n.jsx)(r.p,{children:"There's a rudimentary algorithm to try and determine the next move by the PC.\nAlso the waiting between moves is just aesthetic."})]})}var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,i.ah)(),e.components);return r?(0,n.jsx)(r,Object.assign({},e,{children:(0,n.jsx)(s,e)})):s(e)};let d=Symbol("X"),_=Symbol("O"),h=()=>({matrix:(0,o.DZ1)(()=>(0,o.rx1)(null,3),3),sign:d,victoryCoords:void 0,vsPc:!1,movePc:!1}),m=[...(0,o.DZ1)(e=>(0,o.DZ1)(r=>[e,r],3),3),...(0,o.DZ1)(e=>(0,o.DZ1)(r=>[r,e],3),3),(0,o.DZ1)(e=>[e,e],3),(0,o.DZ1)(e=>[3-e-1,e],3)],f=e=>{e:for(let r=0;r<m.length;r+=1){let[[t,n]]=m[r];if(null!=e[t][n]){for(let o=1;o<m[r].length;o+=1){let[l,a]=m[r][o-1],[c,i]=m[r][o];if(e[l][a]!==e[c][i])continue e}return m[r]}}},b=e=>{{let[[r,t],[n,o]]=e;return t===o?0:r===n?2:r===t?1:3}},p=(e,r,t,n)=>(null==t?void 0:t.some(t=>{let[n,o]=t;return n===e&&o===r}))?n[b(t)]:void 0,v=(e,r,t)=>m.filter(n=>{let[o,l]=n.reduce((t,n)=>{let[o,l]=n;return r[o][l]===e?[t[0]+1,t[1]]:null==r[o][l]?[t[0],t[1]+1]:t},[0,0]);return t(o,l)}),k=(e,r)=>{let t=v(e,r,(e,r)=>2===e&&1===r);if(t.length>0){let n=t[Math.floor(Math.random()*t.length)];return n.find(e=>{let[t,n]=e;return null==r[t][n]})}},T=(e,r)=>e===r||2-r===e||e-3-1===r,g=(e,r)=>{let t=v(e,r,(e,r)=>1===e&&2===r),n=[];for(let l=0;l<r.length;l+=1)for(let a=0;a<r[l].length;a+=1){let c=t.reduce((e,t)=>t.some(e=>{let[t,n]=e;return l==t&&a===n&&null==r[t][n]})?e+1:e,0);n.push({coords:[l,a],ranking:c,diagonal:T(l,a)})}if(n.sort((0,o.Ukb)((e,r)=>e.ranking>=r.ranking||e.ranking===r.ranking&&e.diagonal)),n.length>0){let i=n.filter(e=>{let{ranking:r,diagonal:t}=e;return r===n[0].ranking&&(!n[0].diagonal||t)});return i[Math.floor(Math.random()*i.length)]}},x=e=>e.reduce((e,r,t)=>[...e,...r.reduce((e,r,n)=>null==r?[...e,[t,n]]:e,[])],[]),w=(e,r)=>[...e].sort((0,o.Ukb)(()=>.5>Math.random())).find(e=>{let[t,n]=e;return null==r[t][n]}),y=e=>{let r=e.reduce((e,r)=>e+r.reduce((e,r)=>null!=r?e+1:e,0),0);return 3===r&&e[1][1]===_&&(null!=e[0][0]&&e[0][0]===e[2][2]||null!=e[2][0]&&e[2][0]===e[0][2])},j=e=>{let r=x(e),t=k(_,e);if(t)return t;let n=k(d,e);if(null!=n)return n;{if(r.find(e=>{let[r,t]=e;return 1===r&&1===t}))return[1,1];if(y(e))return w([[0,1],[1,0],[1,2],[2,1]],e);let o=g(_,e),l=g(d,e);if(null!=o&&null!=l&&l.ranking>o.ranking)return l.coords;if(null!=o)return o.coords;if(null!=l)return l.coords}if(r.length>0)return r[Math.floor(Math.random()*r.length)]},P=()=>{let[{matrix:e,victoryCoords:r,sign:t,vsPc:o,movePc:a},i]=(0,l.useReducer)((e,r)=>{switch(r.type){case"mark":if(null==e.matrix[r.row][r.col]&&null==e.victoryCoords){let t=[...e.matrix.slice(0,r.row),[...e.matrix[r.row].slice(0,r.col),e.sign,...e.matrix[r.row].slice(r.col+1)],...e.matrix.slice(r.row+1)],n=f(t),o=null==n?e.sign===d?_:d:e.sign;return{...e,matrix:t,sign:o,victoryCoords:n,movePc:e.vsPc&&!e.movePc}}return e;case"vspc":return{...e,vsPc:r.value,movePc:r.value&&null==e.victoryCoords&&e.sign===_};case"reset":return{...h(),vsPc:e.vsPc};default:return e}},h()),s=(e,r)=>()=>{a||i({type:"mark",row:e,col:r})},m=()=>{i({type:"reset"})},b=e=>()=>{i({type:"vspc",value:e})},v=(0,l.useCallback)((e,t)=>p(e,t,r,["".concat(c().board_strike," ").concat(c().board_strike__0),"".concat(c().board_strike," ").concat(c().board_strike__1),"".concat(c().board_strike," ").concat(c().board_strike__2),"".concat(c().board_strike," ").concat(c().board_strike__3)]),[r]),k=(0,l.useMemo)(()=>e.some(e=>e.some(e=>null==e)),[e]);return(0,l.useEffect)(()=>{if(a){let r=setTimeout(()=>{let r=j(e);null!=r&&i({type:"mark",row:r[0],col:r[1]})},1e3);return()=>{clearTimeout(r)}}},[a,e]),(0,n.jsxs)("div",{children:[(0,n.jsx)(u,{}),(0,n.jsx)("div",{className:c().board,children:e.map((e,r)=>(0,n.jsx)("div",{className:c().board_row,children:e.map((e,t)=>(0,n.jsxs)("div",{className:"".concat(c().board_col," ").concat(v(r,t)),onClick:s(r,t),children:[e===d&&"❌",e===_&&"⭕",null==e&&(0,n.jsx)("span",{className:c().board_empty,children:"♻️"})]},"col-".concat(t)))},"row-".concat(r)))}),r?(0,n.jsxs)("p",{children:[t.description," won!"]}):!k&&(0,n.jsx)("p",{children:"Draw, no moves possible."}),(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:"Settings"}),(0,n.jsx)("input",{type:"radio",name:"vspc",id:"vspcFalse",value:"false",onChange:b(!1),checked:!o}),(0,n.jsx)("label",{htmlFor:"vspcFalse",children:"Player 1 VS Player 2"})," ",(0,n.jsx)("input",{type:"radio",name:"vspc",id:"vspcTrue",value:"true",onChange:b(!0),checked:o}),(0,n.jsx)("label",{htmlFor:"vspcTrue",children:"Player 1 VS PC"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"button",onClick:m,children:"New match"})]})]})};var C=!0,M=P},3538:function(e){e.exports={board:"TicTacToe_board__Xokqn",board_row:"TicTacToe_board_row__M3Mzo",board_col:"TicTacToe_board_col__kGVyW",board_empty:"TicTacToe_board_empty__qd7G_",board_strike:"TicTacToe_board_strike__h0u2v",board_strike__0:"TicTacToe_board_strike__0__E7Znq",board_strike__1:"TicTacToe_board_strike__1__c1lAi",board_strike__2:"TicTacToe_board_strike__2__nUFw3",board_strike__3:"TicTacToe_board_strike__3__WzMfe"}},5392:function(e,r,t){"use strict";t.d(r,{ah:function(){return l}});var n=t(2784);let o=n.createContext({});function l(e){let r=n.useContext(o);return n.useMemo(()=>"function"==typeof e?e(r):{...r,...e},[r,e])}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=70)}),_N_E=e.O()}]);