(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2779:function(e,r){var t;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)){if(t.length){var i=a.apply(null,t);i&&e.push(i)}}else if("object"===o){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var l in t)n.call(t,l)&&t[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0!==(t=(function(){return a}).apply(r,[]))&&(e.exports=t)}()},70:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tictactoe",function(){return t(5653)}])},5653:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return Z},default:function(){return O}});var n=t(2322),a=t(2784),o=t(3538),i=t.n(o),l=t(5392);function s(e){let r=Object.assign({p:"p"},(0,l.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"Implementation of Tic Tac Toe, 1 vs 1 and 1 vs PC.\nPlayer 1 plays always with ❌ while Player 2 and PC play with ⭕."}),"\n",(0,n.jsx)(r.p,{children:"There's a rudimentary algorithm to try and determine the next move by the PC.\nAlso the waiting between moves is just aesthetic."}),"\n",(0,n.jsx)(r.p,{children:"There's also a a little support for accessibility, with aria labels\nand announcements of PC plays."})]})}var c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,l.ah)(),e.components);return r?(0,n.jsx)(r,Object.assign({},e,{children:(0,n.jsx)(s,e)})):s(e)},u=t(2779),d=t.n(u),_=t(6573);let h=Symbol("❌"),p=Symbol("⭕️"),b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return{matrix:(0,_.DZ1)(()=>(0,_.rx1)(null,3),3),sign:e,victoryCoords:void 0,vsPc:!1,movePc:!1,announce:void 0}},f=[...(0,_.DZ1)(e=>(0,_.DZ1)(r=>[e,r],3),3),...(0,_.DZ1)(e=>(0,_.DZ1)(r=>[r,e],3),3),(0,_.DZ1)(e=>[e,e],3),(0,_.DZ1)(e=>[3-e-1,e],3)],m=e=>{e:for(let r=0;r<f.length;r+=1){let[[t,n]]=f[r];if(null!=e[t][n]){for(let a=1;a<f[r].length;a+=1){let[o,i]=f[r][a-1],[l,s]=f[r][a];if(e[o][i]!==e[l][s])continue e}return f[r]}}},v=e=>{{let[[r,t],[n,a]]=e;return t===a?0:r===n?2:r===t?1:3}},g=(e,r,t,n)=>(null==t?void 0:t.some(t=>{let[n,a]=t;return n===e&&a===r}))?n[v(t)]:void 0,x=(e,r,t)=>f.filter(n=>{let[a,o]=n.reduce((t,n)=>{let[a,o]=n;return r[a][o]===e?[t[0]+1,t[1]]:null==r[a][o]?[t[0],t[1]+1]:t},[0,0]);return t(a,o)}),T=e=>e[Math.floor(Math.random()*e.length)],k=(e,r)=>{let t=x(e,r,(e,r)=>2===e&&1===r);if(t.length>0){let n=T(t);return n.find(e=>{let[t,n]=e;return null==r[t][n]})}},y=(e,r)=>e===r||2-r===e||e-3-1===r,j=(e,r)=>{let t=x(e,r,(e,r)=>1===e&&2===r),n=[];for(let a=0;a<r.length;a+=1)for(let o=0;o<r[a].length;o+=1){let i=t.reduce((e,t)=>t.some(e=>{let[t,n]=e;return a==t&&o===n&&null==r[t][n]})?e+1:e,0);i>0&&n.push({coords:[a,o],ranking:i,diagonal:y(a,o)})}if(n.sort((0,_.Ukb)((e,r)=>e.ranking>=r.ranking||e.ranking===r.ranking&&e.diagonal)),n.length>0){let l=n.filter(e=>{let{ranking:r,diagonal:t}=e;return r===n[0].ranking&&(!n[0].diagonal||t)});return T(l)}},w=e=>e.reduce((e,r,t)=>[...e,...r.reduce((e,r,n)=>null==r?[...e,[t,n]]:e,[])],[]),P=(e,r)=>[...e].sort((0,_.Ukb)(()=>.5>Math.random())).find(e=>{let[t,n]=e;return null==r[t][n]}),C=e=>{let r=e.reduce((e,r)=>e+r.reduce((e,r)=>null!=r?e+1:e,0),0);return 3===r&&e[1][1]===p&&(null!=e[0][0]&&e[0][0]===e[2][2]||null!=e[2][0]&&e[2][0]===e[0][2])},N=e=>{let r=w(e);if(9===r.length)return T(r);let t=k(p,e);if(t)return t;let n=k(h,e);if(null!=n)return n;{if(r.find(e=>{let[r,t]=e;return 1===r&&1===t}))return[1,1];if(C(e))return P([[0,1],[1,0],[1,2],[2,1]],e);let a=j(p,e),o=j(h,e);if(null!=a&&null!=o&&o.ranking>a.ranking)return o.coords;if(null!=a)return a.coords;if(null!=o)return o.coords}if(r.length>0)return T(r)},D=(e,r,t,n)=>{if(0===e)return r;if(2===e)return n;if(1===e)return t;let a=(e+1)%10;return"".concat(e+1).concat(a<1||a>3||e>9&&e<13?"th":1===a?"st":2===a?"nd":"rd")},S=(e,r)=>{let t=D(e,"top","center","bottom"),n=D(r,"left","center","right");return"center"===t&&t===n?"central":"".concat(t,"-").concat(n)},M=()=>(0,a.useReducer)((e,r)=>{switch(r.type){case"mark":if(null==e.matrix[r.row][r.col]&&null==e.victoryCoords){let t=[...e.matrix.slice(0,r.row),[...e.matrix[r.row].slice(0,r.col),e.sign,...e.matrix[r.row].slice(r.col+1)],...e.matrix.slice(r.row+1)],n=m(t),a=null==n?e.sign===h?p:h:e.sign;return{...e,matrix:t,sign:a,victoryCoords:n,movePc:e.vsPc&&!e.movePc,announce:e.vsPc&&e.movePc?[r.row,r.col]:void 0}}return e;case"vspc":return{...e,vsPc:r.enabled,movePc:r.enabled&&null==e.victoryCoords&&e.sign===p};case"reset":return{...b(r.sign),vsPc:e.vsPc,movePc:e.vsPc&&r.sign===p};case"unannounce":return{...e,announce:void 0};default:return e}},b()),E=()=>{let[{matrix:e,victoryCoords:r,sign:t,vsPc:o,movePc:l,announce:s},u]=M(),_=(e,r)=>()=>{l||u({type:"mark",row:e,col:r})},h=e=>()=>{u({type:"reset",sign:e})},b=e=>()=>{u({type:"vspc",enabled:e})},f=(0,a.useCallback)((e,t)=>g(e,t,r,["".concat(i().board_strike," ").concat(i().board_strike__0),"".concat(i().board_strike," ").concat(i().board_strike__1),"".concat(i().board_strike," ").concat(i().board_strike__2),"".concat(i().board_strike," ").concat(i().board_strike__3)]),[r]),m=(0,a.useMemo)(()=>e.some(e=>e.some(e=>null==e)),[e]);return(0,a.useEffect)(()=>{if(l){let r=setTimeout(()=>{let r=N(e);null!=r&&u({type:"mark",row:r[0],col:r[1]})},1e3);return()=>{clearTimeout(r)}}},[l,e,u]),(0,a.useEffect)(()=>{if(s){let e=setTimeout(()=>{u({type:"unannounce"})},2e3);return()=>{clearTimeout(e)}}},[s,u]),(0,n.jsxs)("div",{children:[(0,n.jsx)(c,{}),(0,n.jsx)("div",{className:i().board,children:e.map((e,r)=>(0,n.jsx)("div",{className:i().board_row,children:e.map((e,a)=>(0,n.jsxs)("div",{className:d()({[i().board_col]:!0,[f(r,a)]:f(r,a)}),children:[null==e&&(0,n.jsx)("button",{type:"button",className:i().board_button,onClick:_(r,a),"aria-label":"Mark with ".concat(t.description," the ").concat(S(r,a)," space"),children:(0,n.jsx)("span",{className:i().board_sign,children:(0,n.jsx)("span",{className:i().board_empty,"aria-hidden":!0,children:"♻️"})})}),null!=e&&(0,n.jsx)("span",{className:i().board_sign,"aria-label":"".concat(S(r,a)," space marked with  ").concat(e.description),children:e.description})]},"col-".concat(a)))},"row-".concat(r)))}),null!=s&&(0,n.jsxs)("p",{role:"alert","aria-live":"assertive",className:"sr-only",children:["PC marked with ⭕ the ",S(...s)," space"]}),r?(0,n.jsxs)("p",{role:"alert","aria-live":"assertive",children:[(0,n.jsx)("span",{className:i().board_sign,children:t.description})," won!"]}):!m&&(0,n.jsx)("p",{role:"alert","aria-live":"assertive",children:"Draw game, no moves possible."}),(0,n.jsxs)("fieldset",{children:[(0,n.jsx)("legend",{children:"Settings"}),"Player 1 (",(0,n.jsx)("span",{className:i().board_sign,children:"❌"}),") Vs."," ",(0,n.jsx)("input",{type:"radio",name:"vspc",id:"vspcFalse",value:"false",onChange:b(!1),checked:!o}),(0,n.jsx)("label",{htmlFor:"vspcFalse",children:"Player 2 "})," ",(0,n.jsx)("input",{type:"radio",name:"vspc",id:"vspcTrue",value:"true",onChange:b(!0),checked:o}),(0,n.jsx)("label",{htmlFor:"vspcTrue",children:"PC "})," (",(0,n.jsx)("span",{className:i().board_sign,children:"⭕"}),")",(0,n.jsx)("br",{}),(0,n.jsx)("button",{type:"button",onClick:h(),children:"New match"})," ",(0,n.jsxs)("button",{type:"button",onClick:h(p),children:["New match, but starts ",(0,n.jsx)("span",{className:i().board_sign,children:"⭕"})]})]})]})};var Z=!0,O=E},3538:function(e){e.exports={board:"TicTacToe_board__Xokqn",board_button:"TicTacToe_board_button__bWXCA",board_col:"TicTacToe_board_col__kGVyW",board_row:"TicTacToe_board_row__M3Mzo",board_empty:"TicTacToe_board_empty__qd7G_",board_strike:"TicTacToe_board_strike__h0u2v",board_strike__0:"TicTacToe_board_strike__0__E7Znq",board_strike__1:"TicTacToe_board_strike__1__c1lAi",board_strike__2:"TicTacToe_board_strike__2__nUFw3",board_strike__3:"TicTacToe_board_strike__3__WzMfe",board_sign:"TicTacToe_board_sign__lDtDD"}},5392:function(e,r,t){"use strict";t.d(r,{ah:function(){return o}});var n=t(2784);let a=n.createContext({});function o(e){let r=n.useContext(a);return n.useMemo(()=>"function"==typeof e?e(r):{...r,...e},[r,e])}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=70)}),_N_E=e.O()}]);