"use strict";(self.webpackChunkminkiele_github_io=self.webpackChunkminkiele_github_io||[]).push([[890],{890:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var r=t(982),i=t(413),o=t(885),l=t(725),u=t(791),c=t(184),a=function(n,e,t){if(null==t[n][e])return!0;var r=0===n||null==t[n-1][e],i=0===e||null==t[n][e-1],o=n===t.length-1||null==t[n+1][e],l=e===t[n].length-1||null==t[n][e+1];return r&&i&&o&&l},s=function(n){for(var e=[],t=0;t<n.length;t+=1)for(var r=0;r<n[t].length;r+=1)if(null!=n[t][r]){var i=0===t||null==n[t-1][r],o=0===r||null==n[t][r-1],l=t<n.length-1&&null!=n[t+1][r],u=r<n[t].length-1&&null!=n[t][r+1],c=i&&l,a=o&&u;(a||c)&&e.push({order:e.length+1,row:t,col:r,isHorizontal:a,isVertical:c,horizontalDefinition:"",verticalDefinition:""})}return e},f=function(n){var e=n.rows,t=n.cols,r=n.showDefs,i=void 0===r||r,o=(0,l.DZ1)((function(){return(0,l.rx1)("",t)}),e);return{matrix:o,definitions:s(o),rows:e,cols:t,showDefs:i}};var h=function(){var n=(0,u.useReducer)((function(n,e){switch(e.type){case"setValue":var t=(0,l.d9v)(n.matrix);return t[e.row][e.col]=e.value,(0,i.Z)((0,i.Z)({},n),{},{matrix:t});case"toggleBlack":var o=(0,l.d9v)(n.matrix);return o[e.row][e.col]=null==o[e.row][e.col]?"":null,(0,i.Z)((0,i.Z)({},n),{},{matrix:o,definitions:s(o)});case"setSize":for(var u=f({rows:e.rows,cols:e.cols,showDefs:n.showDefs}),c=0;c<u.matrix.length;c+=1)for(var a=0;a<u.matrix[c].length;a+=1)c<n.matrix.length&&a<n.matrix[c].length&&(u.matrix[c][a]=n.matrix[c][a]);return u.definitions=s(u.matrix),u;case"setDefinition":return(0,i.Z)((0,i.Z)({},n),{},{definitions:n.definitions.reduce((function(n,t){return[].concat((0,r.Z)(n),[(0,i.Z)((0,i.Z)({},t),t.row===e.row&&t.col===e.col&&{horizontalDefinition:e.horizontalDefinition,verticalDefinition:e.verticalDefinition})])}),[])});case"setShowDefs":return(0,i.Z)((0,i.Z)({},n),{},{showDefs:e.showDefs})}}),{rows:12,cols:22,showDefs:false},f),e=(0,o.Z)(n,2),t=e[0],h=t.matrix,d=t.definitions,p=t.rows,v=t.cols,m=t.showDefs,x=e[1],w=(0,u.useRef)(null),g=(0,u.useRef)(null),j=(0,u.useRef)((0,l.DZ1)((function(){return(0,l.rx1)(null,v)}),p)),D=function(n,e){return function(t){n<j.current.length&&e<j.current[n].length&&(j.current[n][e]=t)}},b=(0,u.useMemo)((function(){return d.reduce((function(n,e){return(0,i.Z)((0,i.Z)((0,i.Z)({},n),e.isHorizontal&&{h:[].concat((0,r.Z)(n.h),[e])}),e.isVertical&&{v:[].concat((0,r.Z)(n.v),[e])})}),{h:[],v:[]})}),[d]),y=b.h,Z=b.v,k=function(n,e){return function(t){var r=t.target.value.toUpperCase();/^[A-Z]?$/.test(r)&&x({type:"setValue",row:n,col:e,value:r})}},O=function(n,e){return function(){x({type:"toggleBlack",row:n,col:e})}},N=function(n,e){return function(t){x({type:"setDefinition",row:n.row,col:n.col,horizontalDefinition:"h"===e?t.target.value:n.horizontalDefinition,verticalDefinition:"v"===e?t.target.value:n.verticalDefinition})}},z=function(n,e){return function(t){var r,i,o,l,u,c;"ArrowUp"===t.key&&n>0&&(null===(i=j.current.reduceRight((function(t,r,i){return null==t&&i<n&&null!=r[e]?r[e]:t}),null))||void 0===i||i.focus());"ArrowDown"===t.key&&n<h.length-1&&(null===(o=j.current.reduce((function(t,r,i){return null==t&&i>n&&null!=r[e]?r[e]:t}),null))||void 0===o||o.focus());"ArrowLeft"===t.key&&e>0&&(null===(l=j.current[n].reduceRight((function(n,t,r){return null==n&&r<e&&null!=t?t:n}),null))||void 0===l||l.focus());"ArrowRight"===t.key&&e<h[n].length-1&&(null===(u=j.current[n].reduce((function(n,t,r){return null==n&&r>e&&null!=t?t:n}),null))||void 0===u||u.focus());"Backspace"===t.key&&0===(null===(r=j.current[n][e])||void 0===r?void 0:r.value).length&&e>0&&(null===(c=j.current[n].reduceRight((function(n,t,r){return null==n&&r<e&&null!=t?t:n}),null))||void 0===c||c.focus())}},_=function(n,e){return function(t){var r;/^[a-zA-Z]$/.test(t.key)&&e<h[n].length-1&&(null===(r=j.current[n].reduce((function(n,t,r){return null==n&&r>e&&null!=t?t:n}),null))||void 0===r||r.focus())}},C=(0,c.jsxs)("div",{className:"app",children:[(0,c.jsxs)("table",{className:"app_table",children:[(0,c.jsx)("caption",{className:"app_caption",children:"Parole Crociate"}),(0,c.jsx)("tbody",{children:(0,l.DZ1)((function(n){return(0,c.jsx)("tr",{children:(0,l.DZ1)((function(e){var t=d.find((function(t){return t.row===n&&t.col===e}));return(0,c.jsx)("td",{className:"app_td",onDoubleClick:O(n,e),children:a(n,e,h)?(0,c.jsx)("span",{className:"app_black"}):(0,c.jsxs)(c.Fragment,{children:[m&&null!=t&&(0,c.jsx)("span",{className:"app_definition",children:t.order}),(0,c.jsx)("input",{className:"app_input",name:"input-".concat(n,"-").concat(e),type:"text",value:h[n][e],onChange:k(n,e),maxLength:1,ref:D(n,e),onKeyDown:z(n,e),onKeyUp:_(n,e),autoComplete:"off"})]})},"".concat(n,"-").concat(e))}),v)},n)}),p)})]}),m&&(0,c.jsxs)("div",{className:"app_definitions",children:[y.length&&(0,c.jsxs)("div",{className:"app_directionDefinitions",children:[(0,c.jsx)("h2",{children:"Orizzontali"}),(0,c.jsx)("ol",{children:y.map((function(n,e){return(0,c.jsx)("li",{value:n.order,children:(0,c.jsx)("input",{className:"app_definitionInput",name:"h-".concat(n.order),type:"text",value:n.horizontalDefinition,onChange:N(n,"h")})},"h-".concat(n.order,"-").concat(e))}))})]}),Z.length&&(0,c.jsxs)("div",{className:"app_directionDefinitions",children:[(0,c.jsx)("h2",{children:"Verticali"}),(0,c.jsx)("ol",{children:Z.map((function(n,e){return(0,c.jsx)("li",{value:n.order,children:(0,c.jsx)("input",{className:"app_definitionInput",name:"v-".concat(n.order),type:"text",value:n.verticalDefinition,onChange:N(n,"v")})},"v-".concat(n.order,"-").concat(e))}))})]})]})]}),P=(0,c.jsx)("form",{onSubmit:function(n){var e,t,r,i;n.preventDefault();var o=parseInt(null!==(e=null===(t=w.current)||void 0===t?void 0:t.value)&&void 0!==e?e:""),u=parseInt(null!==(r=null===(i=g.current)||void 0===i?void 0:i.value)&&void 0!==r?r:"");j.current=(0,l.DZ1)((function(){return(0,l.rx1)(null,u)}),o),x({type:"setSize",rows:isNaN(o)||o<2?12:o,cols:isNaN(u)||u<2?22:u})},children:(0,c.jsxs)("fieldset",{children:[(0,c.jsx)("legend",{children:"Opzioni"}),(0,c.jsx)("label",{htmlFor:"rows",children:"Numero di righe:"})," ",(0,c.jsx)("input",{name:"rows",defaultValue:p,ref:w,type:"number"})," ",(0,c.jsx)("label",{htmlFor:"cols",children:"Numero di colonne:"})," ",(0,c.jsx)("input",{name:"cols",defaultValue:v,ref:g,type:"number"})," ",(0,c.jsx)("button",{type:"submit",children:"Update"}),(0,c.jsx)("br",{}),(0,c.jsx)("input",{id:"showDefs",name:"showDefs",checked:m,onChange:function(n){x({type:"setShowDefs",showDefs:n.target.checked})},type:"checkbox",value:"showDefs"}),(0,c.jsx)("label",{htmlFor:"showDefs",children:"Mostra definizioni"})]})});return(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:"An implementation of the crosswords schema with automatic calculation of definitions number. Definitely not suitable for mobile devices, it will frustrate you soooo much."}),C,P]})}},942:function(n,e,t){function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}t.d(e,{Z:function(){return r}})},413:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(942);function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}}}]);
//# sourceMappingURL=890.193b79bd.chunk.js.map