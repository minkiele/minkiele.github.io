(this.webpackJsonpminkiele=this.webpackJsonpminkiele||[]).push([[3],{20:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(22);function c(e){return function t(n){return 0===arguments.length||Object(r.a)(n)?t:e.apply(this,arguments)}}},21:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},22:function(e,t,n){"use strict";function r(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}n.d(t,"a",(function(){return r}))},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20),c=n(22);function i(e){return function t(n,i){switch(arguments.length){case 0:return t;case 1:return Object(c.a)(n)?t:Object(r.a)((function(t){return e(n,t)}));default:return Object(c.a)(n)&&Object(c.a)(i)?t:Object(c.a)(n)?Object(r.a)((function(t){return e(t,i)})):Object(c.a)(i)?Object(r.a)((function(t){return e(n,t)})):e(n,i)}}}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(21);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},25:function(e,t,n){"use strict";var r=n(23),c=Object(r.a)((function(e,t){var n,r=Number(t),c=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);c<r;)n[c]=e(c),c+=1;return n}));t.a=c},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8);var c=n(5);function i(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},33:function(e,t,n){},35:function(e,t,n){"use strict";var r=n(23),c=n(20),i=Object(c.a)((function(e){return function(){return e}})),o=n(25),u=Object(r.a)((function(e,t){return Object(o.a)(i(e),t)}));t.a=u},41:function(e,t,n){"use strict";n.r(t);var r=n(27),c=n(24),i=n(4),o=(n(33),n(25)),u=n(35);var a=n(20),l=Object(a.a)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function s(e,t,n,r){var c,i=function(c){for(var i=t.length,o=0;o<i;){if(e===t[o])return n[o];o+=1}for(var u in t[o+1]=e,n[o+1]=c,e)c[u]=r?s(e[u],t,n,!0):e[u];return c};switch(l(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return c=e,new RegExp(c.source,(c.global?"g":"")+(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.sticky?"y":"")+(c.unicode?"u":""));default:return e}}var f=Object(a.a)((function(e){return null!=e&&"function"===typeof e.clone?e.clone():s(e,[],[],!0)})),b=n(0),j=n(2),d=function(e,t,n){if(null==n[e][t])return!0;var r=0===e||null==n[e-1][t],c=0===t||null==n[e][t-1],i=e===n.length-1||null==n[e+1][t],o=t===n[e].length-1||null==n[e][t+1];return r&&c&&i&&o},h=function(e){for(var t=[],n=0;n<e.length;n+=1)for(var r=0;r<e[n].length;r+=1)if(null!=e[n][r]){var c=0===n||null==e[n-1][r],i=0===r||null==e[n][r-1],o=n<e.length-1&&null!=e[n+1][r],u=r<e[n].length-1&&null!=e[n][r+1],a=c&&o,l=i&&u;(l||a)&&t.push({order:t.length+1,row:n,col:r,isHorizontal:l,isVertical:a,horizontalDefinition:"",verticalDefinition:""})}return t},O=function(e){var t=e.rows,n=e.cols,r=e.showDefs,c=void 0===r||r,i=Object(o.a)((function(){return Object(u.a)("",n)}),t);return{matrix:i,definitions:h(i),rows:t,cols:n,showDefs:c}};t.default=function(){var e=Object(b.useReducer)((function(e,t){switch(t.type){case"setValue":var n=f(e.matrix);return n[t.row][t.col]=t.value,Object(c.a)(Object(c.a)({},e),{},{matrix:n});case"toggleBlack":var i=f(e.matrix);return i[t.row][t.col]=null==i[t.row][t.col]?"":null,Object(c.a)(Object(c.a)({},e),{},{matrix:i,definitions:h(i)});case"setSize":for(var o=O({rows:t.rows,cols:t.cols,showDefs:e.showDefs}),u=0;u<o.matrix.length;u+=1)for(var a=0;a<o.matrix[u].length;a+=1)u<e.matrix.length&&a<e.matrix[u].length&&(o.matrix[u][a]=e.matrix[u][a]);return o.definitions=h(o.matrix),o;case"setDefinition":return Object(c.a)(Object(c.a)({},e),{},{definitions:e.definitions.reduce((function(e,n){return[].concat(Object(r.a)(e),[Object(c.a)(Object(c.a)({},n),n.row===t.row&&n.col===t.col&&{horizontalDefinition:t.horizontalDefinition,verticalDefinition:t.verticalDefinition})])}),[])});case"setShowDefs":return Object(c.a)(Object(c.a)({},e),{},{showDefs:t.showDefs})}}),{rows:12,cols:22,showDefs:true},O),t=Object(i.a)(e,2),n=t[0],a=n.matrix,l=n.definitions,s=n.rows,p=n.cols,v=n.showDefs,m=t[1],w=Object(b.useRef)(null),g=Object(b.useRef)(null),y=Object(b.useRef)(Object(o.a)((function(){return Object(u.a)(null,p)}),s)),x=function(e,t){return function(n){e<y.current.length&&t<y.current[e].length&&(y.current[e][t]=n)}},D=Object(b.useMemo)((function(){return l.reduce((function(e,t){return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.isHorizontal&&{h:[].concat(Object(r.a)(e.h),[t])}),t.isVertical&&{v:[].concat(Object(r.a)(e.v),[t])})}),{h:[],v:[]})}),[l]),N=D.h,k=D.v,z=function(e,t){return function(n){var r=n.target.value.toUpperCase();/^[A-Z]?$/.test(r)&&m({type:"setValue",row:e,col:t,value:r})}},A=function(e,t){return function(){m({type:"toggleBlack",row:e,col:t})}},R=function(e,t){return function(n){m({type:"setDefinition",row:e.row,col:e.col,horizontalDefinition:"h"===t?n.target.value:e.horizontalDefinition,verticalDefinition:"v"===t?n.target.value:e.verticalDefinition})}},S=function(e,t){return function(n){var r,c,i,o,u,l;"ArrowUp"===n.key&&e>0&&(null===(c=y.current.reduceRight((function(n,r,c){return null==n&&c<e&&null!=r[t]?r[t]:n}),null))||void 0===c||c.focus());"ArrowDown"===n.key&&e<a.length-1&&(null===(i=y.current.reduce((function(n,r,c){return null==n&&c>e&&null!=r[t]?r[t]:n}),null))||void 0===i||i.focus());"ArrowLeft"===n.key&&t>0&&(null===(o=y.current[e].reduceRight((function(e,n,r){return null==e&&r<t&&null!=n?n:e}),null))||void 0===o||o.focus());"ArrowRight"===n.key&&t<a[e].length-1&&(null===(u=y.current[e].reduce((function(e,n,r){return null==e&&r>t&&null!=n?n:e}),null))||void 0===u||u.focus());"Backspace"===n.key&&0===(null===(r=y.current[e][t])||void 0===r?void 0:r.value).length&&t>0&&(null===(l=y.current[e].reduceRight((function(e,n,r){return null==e&&r<t&&null!=n?n:e}),null))||void 0===l||l.focus())}},_=function(e,t){return function(n){var r;/^[a-zA-Z]$/.test(n.key)&&t<a[e].length-1&&(null===(r=y.current[e].reduce((function(e,n,r){return null==e&&r>t&&null!=n?n:e}),null))||void 0===r||r.focus())}};return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)("table",{className:"app_table",children:[Object(j.jsx)("caption",{className:"app_caption",children:"Parole Crociate"}),Object(j.jsx)("tbody",{children:Object(o.a)((function(e){return Object(j.jsx)("tr",{children:Object(o.a)((function(t){var n=l.find((function(n){return n.row===e&&n.col===t}));return Object(j.jsx)("td",{className:"app_td",onDoubleClick:A(e,t),children:d(e,t,a)?Object(j.jsx)("span",{className:"app_black"}):Object(j.jsxs)(j.Fragment,{children:[v&&null!=n&&Object(j.jsx)("span",{className:"app_definition",children:n.order}),Object(j.jsx)("input",{className:"app_input",name:"input-".concat(e,"-").concat(t),type:"text",value:a[e][t],onChange:z(e,t),maxLength:1,ref:x(e,t),onKeyDown:S(e,t),onKeyUp:_(e,t)})]})},"".concat(e,"-").concat(t))}),p)},e)}),s)})]}),v&&Object(j.jsxs)("div",{className:"app_definitions",children:[N.length&&Object(j.jsxs)("div",{className:"app_directionDefinitions",children:[Object(j.jsx)("h2",{children:"Orizzontali"}),Object(j.jsx)("ol",{children:N.map((function(e,t){return Object(j.jsx)("li",{value:e.order,children:Object(j.jsx)("input",{className:"app_definitionInput",name:"h-".concat(e.order),type:"text",value:e.horizontalDefinition,onChange:R(e,"h")})},"h-".concat(e.order,"-").concat(t))}))})]}),k.length&&Object(j.jsxs)("div",{className:"app_directionDefinitions",children:[Object(j.jsx)("h2",{children:"Verticali"}),Object(j.jsx)("ol",{children:k.map((function(e,t){return Object(j.jsx)("li",{value:e.order,children:Object(j.jsx)("input",{className:"app_definitionInput",name:"v-".concat(e.order),type:"text",value:e.verticalDefinition,onChange:R(e,"v")})},"v-".concat(e.order,"-").concat(t))}))})]})]}),Object(j.jsxs)("form",{onSubmit:function(e){var t,n,r,c;e.preventDefault();var i=parseInt(null!==(t=null===(n=w.current)||void 0===n?void 0:n.value)&&void 0!==t?t:""),a=parseInt(null!==(r=null===(c=g.current)||void 0===c?void 0:c.value)&&void 0!==r?r:"");y.current=Object(o.a)((function(){return Object(u.a)(null,a)}),i),m({type:"setSize",rows:isNaN(i)||i<2?12:i,cols:isNaN(a)||a<2?22:a})},children:[Object(j.jsx)("label",{htmlFor:"rows",children:"Numero di righe:"}),Object(j.jsx)("input",{name:"rows",defaultValue:s,ref:w,type:"number"}),Object(j.jsx)("label",{htmlFor:"cols",children:"Numero di colonne:"}),Object(j.jsx)("input",{name:"cols",defaultValue:p,ref:g,type:"number"}),Object(j.jsx)("input",{name:"showDefs",checked:v,onChange:function(e){m({type:"setShowDefs",showDefs:e.target.checked})},type:"checkbox",value:"showDefs"}),Object(j.jsx)("label",{htmlFor:"defs",children:"Mostra definizioni"}),Object(j.jsx)("button",{type:"submit",children:"Update"})]})]})}}}]);
//# sourceMappingURL=3.7aec825b.chunk.js.map