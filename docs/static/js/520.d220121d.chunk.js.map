{"version":3,"file":"static/js/520.d220121d.chunk.js","mappings":"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","sources":["lib/JumpMatrix.ts","webpack://minkiele.github.io/./src/apps/JumpMatrix/JumpMatrix.module.scss?2543","apps/JumpMatrix/JumpMatrix.tsx","../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["export class JumpMatrix {\n  private row = -1;\n  private col = -1;\n  private move = 0;\n  public isSolved(): boolean {\n    return this.move === this.size ** 2;\n  }\n  private matrix: Array<Array<number | undefined>> = Array(this.size).fill(undefined).map(() => Array(this.size).fill(undefined));\n\n  public constructor (private size = 5) {}\n\n  private getRandomUpTo(limit: number): number {\n    return Math.floor(Math.random() * limit);\n  }\n\n  private setStartPosition() {\n    do {\n      this.row = this.getRandomUpTo(this.size);\n      this.col = this.getRandomUpTo(this.size);\n    } while(this.getValueAtCurrentPosition() != null);\n  }\n\n  private advandceOneMove() {\n    this.move += 1;\n  }\n\n  private isPositionCandidate(row: number, col: number): boolean {\n    return row >= 0 && row < this.size && col >= 0 && col < this.size && this.matrix[row][col] == null;\n  }\n\n  private getCandidateCoordinates(rowOffset = 0, colOffset = 0): [number, number] {\n    return [this.row + rowOffset, this.col + colOffset];\n  }\n\n  private advancePosition(row: number, col: number): this {\n    this.setCurrentPosition(row, col);\n    this.advandceOneMove();\n    this.setValueAtCurrentPosition();\n    return this;\n  }\n\n  private advance() {\n    while(this.move < this.size ** 2) {\n      const testedPositions: Array<boolean> = Array(8).fill(false);\n      let advanced = false;\n      let rowCandidate = -1;\n      let colCandidate = -1;\n      do {\n        const direction = this.getRandomUpTo(8);\n        switch(direction) {\n          case 0: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(-3);\n            break;\n          }\n          case 1: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(-2, 2);\n            break;\n          }\n          case 2: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(0, 3);\n            break;\n          }\n          case 3: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(2, 2);\n            break;\n          }\n          case 4: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(3);\n            break;\n          }\n          case 5: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(2, -2);\n            break;\n          }\n          case 6: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(0, -3);\n            break;\n          }\n          case 7: {\n            [rowCandidate, colCandidate] = this.getCandidateCoordinates(-2, -2);\n            break;\n          }\n        }\n        if(!testedPositions[direction] && this.isPositionCandidate(rowCandidate, colCandidate)) {\n          this.advancePosition(rowCandidate, colCandidate);\n          advanced = true;\n        }\n        testedPositions[direction] = true;\n      } while(!advanced && testedPositions.includes(false));\n      if(!testedPositions.includes(false) && !advanced) {\n        throw new Error('Cannot move anymore');\n      }\n    }\n  }\n\n  public rewindOneMove(): this {\n    this.matrix[this.row][this.col] = undefined;\n    this.move -= 1;\n    outer: for(let row = 0; row < this.size; row += 1) {\n      for(let col = 0; col < this.size; col += 1) {\n        if(this.matrix[row][col] === this.move) {\n          this.row = row;\n          this.col = col;\n          break outer;\n        }\n      }\n    }\n    return this;\n  }\n\n  private getValueAtCurrentPosition(): number | undefined {\n    return this.matrix[this.row][this.col];\n  }\n\n  private setCurrentPosition(row: number, col: number): this {\n    this.row = row;\n    this.col = col;\n    return this;\n  }\n\n  private setValueAtCurrentPosition(): this {\n    this.matrix[this.row][this.col] = this.move;\n    return this;\n  }\n\n  public playFrom(row: number, col: number) {\n    // Positioning the starting point the first move\n    this.advandceOneMove();\n    this.setCurrentPosition(row, col);\n    this.setValueAtCurrentPosition();\n    this.advance();\n  }\n\n  public play() {\n    // Positioning the starting point the first move\n    this.advandceOneMove();\n    this.setStartPosition();\n    this.setValueAtCurrentPosition();\n    this.advance();\n  }\n\n  public toString(): string {\n    return this.matrix.map((row) => {\n      const printableRow = row.map((col) => `${(col == null || col < 10) ? ' '  : ''}${col == null ? ' ' : col}`).join(' ');\n      return `[ ${printableRow} ]`;\n    }).join(\"\\n\");\n  }\n\n  public getMatrix(): Array<Array<number | undefined>> {\n    // Copy the matrix\n    return this.matrix.map((row) => row.slice());\n  }\n\n  public getValueAt(row: number, col: number): number | undefined {\n    return this.matrix[row][col];\n  }\n\n  public getMove(): number {\n    return this.move;\n  }\n\n}\n\n// let tries = 0;\n// let done = false;\n\n// do {\n//   const jm = new JumpMatrix();\n//   tries += 1;\n//   try {\n//     jm.playFrom(0, 0);\n//     console.log('SOLVED IN %s TRIES', tries);\n//     if(jm.getValueAt(2, 2) === 25) {\n//       done = true;\n//     }\n//   } catch(err) {\n//     console.log(\"NO MORE MOVES\");\n//   }\n//   console.log(jm.toString());\n// } while(!done);\n\n// const LIMIT = 100;\n\n// let tries = 0;\n// let done = 0;\n// let moves = 0;\n\n// do {\n//   const jm = new JumpMatrix();\n//   tries += 1;\n//   try {\n//     jm.play();\n//     done += 1;\n//   } catch(err) {\n//   }\n//   moves += jm.getMove();\n// } while(done < LIMIT);\n\n// console.log(\"Total tries: %d\", tries);\n// console.log(\"Success Percentage: %d%%\", LIMIT / tries * 100);\n// console.log(\"Average move per try: %d\", moves / tries);\n","// extracted by mini-css-extract-plugin\nexport default {\"cell\":\"JumpMatrix_cell__3dZBL\",\"cell__visible\":\"JumpMatrix_cell__visible__+yPzP\"};","import classNames from \"classnames\";\nimport { FunctionComponent, useEffect, useState } from \"react\";\nimport { JumpMatrix as JumpMatrixLogic } from \"../../lib/JumpMatrix\";\nimport styles from './JumpMatrix.module.scss';\n\ninterface JumpMatrixState {\n  matrix: JumpMatrixLogic;\n  tries: number;\n  moves: number;\n}\n\nconst runJumpMatrix = (): JumpMatrixState => {\n  let tries = 0;\n  let done = false;\n  let moves = 0;\n\n  let jm: JumpMatrixLogic | undefined;\n\n  do {\n    jm = new JumpMatrixLogic();\n    tries += 1;\n    try {\n      jm.play();\n      done = true;\n    } catch (err) {}\n    moves += jm.getMove();\n  } while (!done);\n  return { matrix: jm as JumpMatrixLogic, tries, moves };\n};\n\nconst JumpMatrix: FunctionComponent = () => {\n  const [{ matrix, moves, tries }, setMatrixState] = useState<JumpMatrixState>(\n    runJumpMatrix()\n  );\n\n  const [visible, setVisible] = useState<boolean>(false);\n\n  useEffect(() => {\n    // Delay by 250ms to actualy re-render with mutated classes\n    // And showing correctly the transitions\n    setTimeout(() => {\n      setVisible(true);\n    }, 250);\n  }, [matrix]);\n\n  const handleUpdate = () => {\n    setVisible(false);\n    setMatrixState(runJumpMatrix());\n  };\n\n  return (\n    <div>\n      <h2>The game</h2>\n      <p>This is a game I did learn in middle school, you have a 5x5 square, and you must fill the\n        square with the numbers from 1 to 25. You can start wherever you want but you can move from cell\n        to cell following these rules: moving horizontally or vertically you must jump 2 cells,\n        moving diagonally you must jump 1 cell. It seems hard but you average 19 moves before\n        ending.\n      </p>\n      <h3>Facts</h3>\n      <dl>\n        <dt>Total tries:</dt>\n        <dd>{tries}</dd>\n        <dt>Average moves:</dt>\n        <dd>{moves / tries}</dd>\n      </dl>\n      <table>\n        <tbody>\n          {matrix.getMatrix().map((row, index) => (\n            <tr key={`${row.toString()}-${index}`}>\n              {row.map((col, colIndex) => (\n                <td key={`${col}-${colIndex}`} className={classNames({\n                  [styles.cell]: true,\n                  [styles.cell__visible]: visible\n                })} data-c={col}>{col}</td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <button onClick={handleUpdate}>More magic please</button>\n    </div>\n  );\n};\n\nexport default JumpMatrix;\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}"],"names":["JumpMatrix","size","row","col","move","matrix","Array","this","fill","undefined","map","limit","Math","floor","random","getRandomUpTo","getValueAtCurrentPosition","rowOffset","colOffset","setCurrentPosition","advandceOneMove","setValueAtCurrentPosition","testedPositions","advanced","rowCandidate","colCandidate","direction","getCandidateCoordinates","isPositionCandidate","advancePosition","includes","Error","outer","advance","setStartPosition","printableRow","join","slice","runJumpMatrix","jm","tries","done","moves","JumpMatrixLogic","play","err","getMove","useState","setMatrixState","visible","setVisible","useEffect","setTimeout","getMatrix","index","colIndex","className","classNames","styles","toString","onClick","hasOwn","hasOwnProperty","classes","i","arguments","length","arg","argType","push","isArray","inner","apply","Object","prototype","key","call","module","exports","default","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable"],"sourceRoot":""}